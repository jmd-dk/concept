

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Other kinds of output &mdash; CONCEPT Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://jmd-dk.github.io/concept/tutorial/output_types.html"/>
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6. Working on remote clusters" href="working_remotely.html" />
    <link rel="prev" title="4. Mastering gravity" href="gravity.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CO<em>N</em>CEPT
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">1. Effortless installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="first_simulations.html">2. Your first simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameter_files.html">3. Working with parameter files</a></li>
<li class="toctree-l2"><a class="reference internal" href="gravity.html">4. Mastering gravity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gravity.html#the-pm-method">4.1. The PM method</a></li>
<li class="toctree-l3"><a class="reference internal" href="gravity.html#the-p3m-method">4.2. The P³M method</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5. Other kinds of output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#d-renders">5.1. 3D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">5.2. 2D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#snapshots">5.3. Snapshots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="working_remotely.html">6. Working on remote clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="beyond_matter_only.html">7. Beyond matter-only simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="beyond_matter_only.html#radiation">7.1. Radiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="beyond_matter_only.html#massive-neutrinos">7.2. Massive neutrinos</a></li>
<li class="toctree-l3"><a class="reference internal" href="beyond_matter_only.html#dynamical-dark-energy">7.3. Dynamical dark energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="beyond_matter_only.html#decaying-cold-dark-matter">7.4. Decaying cold dark matter</a></li>
<li class="toctree-l3"><a class="reference internal" href="beyond_matter_only.html#non-linear-massive-neutrinos">7.5. Non-linear massive neutrinos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">8. Using utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#the-powerspec-and-render-utilities">8.1. The powerspec and render utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#the-class-utility">8.2. The CLASS utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#the-update-utility">8.3. The update utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#supported-platforms">Supported platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#standard-installation">Standard installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#optimal-network-performance-on-clusters">Optimal network performance on clusters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#cloning-with-git">Cloning with Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-installer-script-in-depth">The <code class="docutils literal notranslate"><span class="pre">installer</span></code> script in-depth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#programs-installed">Programs installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#command-line-options">Command-line options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#influential-environment-variables">Influential environment variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#making-use-of-pre-installed-libraries">Making use of pre-installed libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-versions">Specifying dependency versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#choosing-compiler-precedence">Choosing compiler precedence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#installing-mpich-or-openmpi">Installing MPICH or OpenMPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#parallel-builds">Parallel builds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#using-the-installer-to-install-specific-libraries-but-not-concept-itself">Using the <code class="docutils literal notranslate"><span class="pre">installer</span></code> to install specific libraries but not CO<em>N</em>CEPT itself</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#python-dependencies">Python dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#other-primary-dependencies">Other primary dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#system-dependencies">System dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-paths-and-env-files">The <code class="docutils literal notranslate"><span class="pre">.paths</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-paths-file">The <code class="docutils literal notranslate"><span class="pre">.paths</span></code> file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-env-file">The <code class="docutils literal notranslate"><span class="pre">.env</span></code> file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#path-like-environment-variables"><code class="docutils literal notranslate"><span class="pre">PATH</span></code>-like environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#eliminating-interference-from-foreign-python-installations">Eliminating interference from foreign Python installations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-mpi-executor">The <code class="docutils literal notranslate"><span class="pre">mpi_executor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-make-jobs-environment-variable">The <code class="docutils literal notranslate"><span class="pre">make_jobs</span></code> environment variable</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command_line_options.html">Command-line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#basics">Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#help-h-help">Help: <code class="docutils literal notranslate"><span class="pre">-h</span></code>, <code class="docutils literal notranslate"><span class="pre">--help</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#parameter-file-p-params">Parameter file: <code class="docutils literal notranslate"><span class="pre">-p</span></code>, <code class="docutils literal notranslate"><span class="pre">--params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#command-line-parameters-c-command-line-params">Command-line parameters: <code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">--command-line-params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#number-of-processes-n-nprocs">Number of processes: <code class="docutils literal notranslate"><span class="pre">-n</span></code>, <code class="docutils literal notranslate"><span class="pre">--nprocs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../command_line_options.html#specifying-multiple-nodes">Specifying multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#utility-u-utility">Utility: <code class="docutils literal notranslate"><span class="pre">-u</span></code>, <code class="docutils literal notranslate"><span class="pre">--utility</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#version-v-version">Version: <code class="docutils literal notranslate"><span class="pre">-v</span></code>, <code class="docutils literal notranslate"><span class="pre">--version</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#remote-job-submission">Remote job submission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#queue-q-queue">Queue: <code class="docutils literal notranslate"><span class="pre">-q</span></code>, <code class="docutils literal notranslate"><span class="pre">--queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#wall-time-w-wall-time">Wall time: <code class="docutils literal notranslate"><span class="pre">-w</span></code>, <code class="docutils literal notranslate"><span class="pre">--wall-time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#memory-memory">Memory: <code class="docutils literal notranslate"><span class="pre">--memory</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-directive-j-job-directive">Job directive: <code class="docutils literal notranslate"><span class="pre">-j</span></code>, <code class="docutils literal notranslate"><span class="pre">--job-directive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-watching-no-watching">No watching: <code class="docutils literal notranslate"><span class="pre">--no-watching</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#other-modes-of-building-running">Other modes of building/running</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#local-local">Local: <code class="docutils literal notranslate"><span class="pre">--local</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#pure-python-pure-python">Pure Python: <code class="docutils literal notranslate"><span class="pre">--pure-python</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-optimizations-no-optimizations">No optimizations: <code class="docutils literal notranslate"><span class="pre">--no-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#native-optimizations-native-optimizations">Native optimizations: <code class="docutils literal notranslate"><span class="pre">--native-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-recompilation-no-recompilation">No recompilation: <code class="docutils literal notranslate"><span class="pre">--no-recompilation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#unsafe-building-unsafe-building">Unsafe building: <code class="docutils literal notranslate"><span class="pre">--unsafe-building</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#specials">Specials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#test-t-test">Test: <code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">--test</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#main-entry-point-m-main">Main entry point: <code class="docutils literal notranslate"><span class="pre">-m</span></code>, <code class="docutils literal notranslate"><span class="pre">--main</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#interactive-i-interactive">Interactive: <code class="docutils literal notranslate"><span class="pre">-i</span></code>, <code class="docutils literal notranslate"><span class="pre">--interactive</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../parameters/parameters.html">Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../parameters/input_output.html">Input/output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/input_output.html#initial-conditions"><code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../parameters/input_output.html#snapshot-type"><code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/numerical_parameters.html">Numerical parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/numerical_parameters.html#boxsize"><code class="docutils literal notranslate"><span class="pre">boxsize</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/cosmology.html">Cosmology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/cosmology.html#class-params"><code class="docutils literal notranslate"><span class="pre">class_params</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/physics.html">Physics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/physics.html#select-forces"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/simulation_options.html">Simulation options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/simulation_options.html#t-base-background-factor"><code class="docutils literal notranslate"><span class="pre">Δt_base_background_factor</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/graphics.html">Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/graphics.html#terminal-width"><code class="docutils literal notranslate"><span class="pre">terminal_width</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/system_of_units.html">System of units</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/system_of_units.html#unit-length"><code class="docutils literal notranslate"><span class="pre">unit_length</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parameters/debugging_options.html">Debugging options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parameters/debugging_options.html#print-load-imbalance"><code class="docutils literal notranslate"><span class="pre">print_load_imbalance</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utilities/class.html">The CLASS utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/convert.html">The convert utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/gadget.html">The gadget utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/info.html">The info utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/play.html">The play utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/powerspec.html">The powerspec utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/render2D.html">The render2D utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/render3D.html">The render3D utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/update.html">The update utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/watch.html">The watch utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../under_the_hood.html">Looking under the hood</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#installation-failed">Installation failed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#compilation-failed">Compilation failed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#insufficient-memory">Insufficient memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#dangerous-optimizations">Dangerous optimizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#terminal-color-output-looks-weird">Terminal color output looks weird</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-related-to-python-libraries-and-packages">Problems related to Python libraries and packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#error-messages-containing-read-1">Error messages containing ‘Read -1’</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#the-simulation-hangs-when-calling-class">The simulation hangs when calling CLASS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#crashes-or-other-bad-behavior">Crashes or other bad behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-running-remotely">Problems when running remotely</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#choosing-an-mpi-executor">Choosing an MPI executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#different-hardware-architecture-on-front-end-and-remote-node">Different hardware architecture on front-end and remote node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#it-still-does-not-work">It <em>still</em> does not work!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#bad-performance-when-using-multiple-processes-nodes">Bad performance when using multiple processes/nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-using-multiple-nodes">Problems when using multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../publications.html#theses">Theses</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CO<em>N</em>CEPT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="tutorial.html">Tutorial</a> &raquo;</li>
        
      <li><span class="section-number">5. </span>Other kinds of output</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/jmd-dk/concept/" class="fa fa-github"> Code Repository</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="working_remotely.html" class="btn btn-neutral float-right" title="6. Working on remote clusters" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gravity.html" class="btn btn-neutral float-left" title="4. Mastering gravity" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="other-kinds-of-output">
<h1><span class="section-number">5. </span>Other kinds of output<a class="headerlink" href="#other-kinds-of-output" title="Permalink to this headline">¶</a></h1>
<p>So far, the result of any simulation has been power spectra, though several
other types of output are available, as exemplified by the below parameter
file:</p>
<div class="literal-block-wrapper docutils container" id="params-output-types">
<div class="code-block-caption"><span class="caption-text">params/tutorial</span><a class="headerlink" href="#params-output-types" title="Permalink to this code">¶</a></div>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Non-parameter variable used to control the size of the simulation</span>
<span class="n">_size</span> <span class="o">=</span> <span class="mi">64</span>

<span class="c1"># Input/output</span>
<span class="n">initial_conditions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;N&#39;</span>      <span class="p">:</span> <span class="n">_size</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">output_dirs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span> <span class="p">:</span> <span class="n">paths</span><span class="p">[</span><span class="s1">&#39;output_dir&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">basename</span><span class="p">(</span><span class="n">paths</span><span class="p">[</span><span class="s1">&#39;params&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render3D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">output_times</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span> <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">a_begin</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;render3D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="n">logspace</span><span class="p">(</span><span class="n">log10</span><span class="p">(</span><span class="n">a_begin</span><span class="p">),</span> <span class="n">log10</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">15</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">powerspec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;plot&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">render2D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;terminal image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="p">}</span>

<span class="c1"># Numerical parameters</span>
<span class="n">boxsize</span> <span class="o">=</span> <span class="mi">128</span><span class="o">*</span><span class="n">Mpc</span>

<span class="c1"># Cosmology</span>
<span class="n">H0</span>      <span class="o">=</span> <span class="mi">67</span><span class="o">*</span><span class="n">km</span><span class="o">/</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="n">Mpc</span><span class="p">)</span>
<span class="n">Ωcdm</span>    <span class="o">=</span> <span class="mf">0.27</span>
<span class="n">Ωb</span>      <span class="o">=</span> <span class="mf">0.049</span>
<span class="n">a_begin</span> <span class="o">=</span> <span class="mf">0.02</span>

<span class="c1"># Physics</span>
<span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;p3m&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">_size</span><span class="p">)},</span>
<span class="p">}</span>

<span class="c1"># Graphics</span>
<span class="n">render2D_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;gridsize&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="n">_size</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;terminal resolution&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;colormap&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="s1">&#39;inferno&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
<span class="n">render3D_colors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="s1">&#39;lime&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">render3D_bgcolor</span>    <span class="o">=</span> <span class="s1">&#39;black&#39;</span>
<span class="n">render3D_resolution</span> <span class="o">=</span> <span class="mi">640</span>
</pre></div>
</div>
</div>
<p>Run a simulation using these parameters, e.g. by saving them to
<code class="docutils literal notranslate"><span class="pre">params/tutorial</span></code> and executing</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./concept -p params/tutorial -n <span class="m">4</span>
</pre></div>
</div>
<p>This will take a few minutes. You may read along in the meantime.</p>
<p>We see that besides power spectra, we have <em>snapshots</em> and <em>renders</em>, the
latter of which comes in a 2D and a 3D version. The ellipses (<code class="docutils literal notranslate"><span class="pre">...</span></code>) used
above in <code class="docutils literal notranslate"><span class="pre">output_dirs</span></code> indicate that we want all kinds of output to go to
the same directory.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">output_times</span></code>, different values are given for three of the output
types, while <code class="docutils literal notranslate"><span class="pre">'render3D'</span></code> is set to use the same times as the output just
above it, i.e. that of <code class="docutils literal notranslate"><span class="pre">'powerspec'</span></code>. For <code class="docutils literal notranslate"><span class="pre">'render2D'</span></code>, we’ve specified 15
outputs spaced logarithmically equidistant between
<span class="math notranslate nohighlight">\(a = a_{\text{begin}} = 0.02\)</span> and <span class="math notranslate nohighlight">\(a = 1\)</span>.</p>
<p>Among the new parameters introduced are <code class="docutils literal notranslate"><span class="pre">powerspec_select</span></code>, in which we have
specified that we only want the data files as output, not plots of this data.</p>
<div class="section" id="d-renders">
<h2><span class="section-number">5.1. </span>3D renders<a class="headerlink" href="#d-renders" title="Permalink to this headline">¶</a></h2>
<p>Looking in the output directory, among other things you’ll find image files
with names starting with <code class="docutils literal notranslate"><span class="pre">render3D</span></code>. These are — unsurprisingly — the 3D
renders. The colors are controlled through the <code class="docutils literal notranslate"><span class="pre">render3D_colors</span></code> and
<code class="docutils literal notranslate"><span class="pre">render3D_bgcolor</span></code> parameters, while the (square) size (in pixels) is set by
<code class="docutils literal notranslate"><span class="pre">render3D_resolution</span></code>. All particles of a given component gets the same
color, though different colors may be used for different components when
running such simulations. The brightness of each pixel indicate the local
energy density.</p>
<p>The colors used (here <code class="docutils literal notranslate"><span class="pre">'lime'</span></code> and <code class="docutils literal notranslate"><span class="pre">'black'</span></code>) may be any color recognized
by <a class="reference external" href="https://matplotlib.org/">matplotlib</a>. A list of named colors is available
<a class="reference external" href="https://matplotlib.org/gallery/color/named_colors.html">here</a>.
Alternatively, you may pass a 3-tuple of RGB values (e.g.
<code class="docutils literal notranslate"><span class="pre">render3D_bgcolor</span> <span class="pre">=</span> <span class="pre">(1,</span> <span class="pre">0,</span> <span class="pre">0)</span></code> makes the background red).</p>
</div>
<div class="section" id="id1">
<h2><span class="section-number">5.2. </span>2D renders<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The 2D renders show the particle configuration projected along one of the axes
of the box. These can often be prettier than their 3D counterparts, as a
colormap is used to visualise the density field, rather than just a single
color combined with alpha compositing.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">render2D_select</span></code> parameter we’ve specified that we want images as
well as terminal images, but no data. Here, <em>images</em> refer to the 2D render
image files you see in the output directory. <em>Terminal images</em> are rendered
directly in the terminal as part of the printed output, as you have probably
noticed. If you turn on the <em>data</em> output, the 2D render data will be stored
in an HDF5 file.</p>
<p>The options for the 2D renders are collected in the <code class="docutils literal notranslate"><span class="pre">render2D_options</span></code>
parameter. Here <code class="docutils literal notranslate"><span class="pre">gridsize</span></code> sets the resolution of the grid onto which the
particles are interpolated in order to produce the render. The height and
width of the image files (in pixels) are then equal to <code class="docutils literal notranslate"><span class="pre">gridsize</span></code>. The
terminal image is then produced by resizing the interpolation grid to match
the resolution given in <code class="docutils literal notranslate"><span class="pre">'terminal</span> <span class="pre">resolution'</span></code>. The terminal image is then
displayed using one character slot per grid cell, i.e. the terminal render
will be <code class="docutils literal notranslate"><span class="pre">'terminal</span> <span class="pre">resolution'</span></code> (80) characters wide. Since the terminal
render is constructed from the original 2D render, this does not show more
details even though the resolution is higher (80 vs. 64).</p>
<p>Also available through <code class="docutils literal notranslate"><span class="pre">render2D_options</span></code> is the colormap to use. Check out
<a class="reference external" href="https://matplotlib.org/3.1.1/gallery/color/colormap_reference.html">this</a>
for a list of available colormaps.</p>
<h3>The play utility</h3><p>For this next trick, the simulation need to have finished, and we need to know
its job ID.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To grab the job ID from a power spectra data file, you can do e.g.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grep -o <span class="s2">&quot;job [^ ]*&quot;</span> output/tutorial/powerspec_a<span class="o">=</span><span class="m">1</span>.00
</pre></div>
</div>
</div>
<p>With the job ID at hand, try the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./concept -u play &lt;ID&gt;  <span class="c1"># replace &lt;ID&gt; with job ID number</span>
</pre></div>
</div>
<p>You should see a nice animation of the evolution of the large-scale structure,
playing out right in the terminal! The animation is produced from the terminal
images stored in the log file <code class="docutils literal notranslate"><span class="pre">logs/&lt;ID&gt;</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-u</span></code> option to the <code class="docutils literal notranslate"><span class="pre">concept</span></code> script signals CO<em>N</em>CEPT to start up
a <em>utility</em> rather than running a simulation. These utilities are handy (or
sometimes goofy) side programs baked into CO<em>N</em>CEPT. Another such utility,
the <em>info utility</em>, is encountered just below, while a
<a class="reference internal" href="utilities.html"><span class="doc">complete section</span></a> of this tutorial is dedicated to
more in-depth investigations of other utilities.</p>
</div>
<div class="section" id="snapshots">
<h2><span class="section-number">5.3. </span>Snapshots<a class="headerlink" href="#snapshots" title="Permalink to this headline">¶</a></h2>
<p>Snapshots are raw dumps of the total system, in this case the position and
momenta of all <span class="math notranslate nohighlight">\(64^3\)</span> particles. CO<em>N</em>CEPT uses its own snapshot
format, which is simply a well-structured HDF5 file.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For a great graphical tool to explore HDF5 files in general, check out
<a class="reference external" href="http://vitables.org/">ViTables</a>. If you encounter problems viewing HDF5
files produced by CO<em>N</em>CEPT, try upgrading to ViTables 3.</p>
<p>You can install ViTables as part of the CO<em>N</em>CEPT installation via</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span><span class="nb">source</span> concept <span class="o">&amp;&amp;</span> <span class="nv">$python</span> -m pip install vitables<span class="o">)</span>
</pre></div>
</div>
<p>after which you can run it by e.g. doing</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span><span class="nb">source</span> concept <span class="o">&amp;&amp;</span> <span class="nv">$python</span> -m vitables <span class="p">&amp;</span><span class="o">)</span>
</pre></div>
</div>
</div>
<p>Such snapshots are useful if you want to process the raw data using some
external program. You can also initialize a simulation from a snapshot, instead
of generating initial conditions from scratch. To try this, redefine the
initial conditions to simply be the path to the snapshot produced by the
simulation you just ran:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="s1">&#39;output/tutorial/snapshot_a=0.10.hdf5&#39;</span>
</pre></div>
</div>
<p>Also, you should change <code class="docutils literal notranslate"><span class="pre">a_begin</span></code> to be <code class="docutils literal notranslate"><span class="pre">0.1</span></code> as to comply with the time at
which the snapshot was dumped. Finally, before rerunning the simulation
starting from the snapshot, you should probably comment out at least the
<code class="docutils literal notranslate"><span class="pre">'render2D'</span></code> <code class="docutils literal notranslate"><span class="pre">output_times</span></code>, as to not clutter up the output directory too
heavily.</p>
<p>If you forget to correct <code class="docutils literal notranslate"><span class="pre">a_begin</span></code>, a warning will be emitted. The same goes
for other obvious inconsistencies between the parameter file and the snapshot,
like if <code class="docutils literal notranslate"><span class="pre">boxsize</span></code> or <code class="docutils literal notranslate"><span class="pre">Ωcdm</span></code> is wrong. To be able to do this, some meta data
about the cosmology and numerical setup is stored in the snapshot as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Warnings are shown in red bold text, easily distinguishable from the main
output text. As warnings (as opposed to errors) results from non-fatal
issues, CO<em>N</em>CEPT will continue running. A warning emitted during the
simulation may hint that someting has gone wrong, meaning that the results
perhaps should not be trusted. To make sure that no warnings go unnoticed,
CO<em>N</em>CEPT will notify you at the end of the simulation. A separate error
log, <code class="docutils literal notranslate"><span class="pre">logs/&lt;ID&gt;_err</span></code>, containing just warning and error messages, will
also be present.</p>
</div>
<p>To generate a warning and error log file, try wrongly leaving <code class="docutils literal notranslate"><span class="pre">a_begin</span></code> as
<code class="docutils literal notranslate"><span class="pre">0.02</span></code>, while still initializing the simulation from the snapshot.
Once the simulation has completed, check out the error log file.</p>
<p>If you intend to run many simulations using the same initial conditions, it’s
worthwhile to initialize these from a common snapshot, as it saves computation
time in the beginning of the simulation and also takes up less memory. To
produce such an initial snapshot, simply set
<code class="docutils literal notranslate"><span class="pre">output_times</span> <span class="pre">=</span> <span class="pre">{'snapshot':</span> <span class="pre">a_begin}</span></code>, in which case CO<em>N</em>CEPT will
exit right after the snapshot has been dumped at the initial time, without
doing any simulation. Also, the whole purpose of having the <code class="docutils literal notranslate"><span class="pre">ICs</span></code> directory
is to hold such initial condition snapshots. To dump snapshots to this
directory, set the <code class="docutils literal notranslate"><span class="pre">'snapshot'</span></code> entry in <code class="docutils literal notranslate"><span class="pre">output_dirs</span></code> to
<code class="docutils literal notranslate"><span class="pre">paths['ics_dir']</span></code>.</p>
<p>You may also want to use CO<em>N</em>CEPT purely as an initial condition
generator, and perform the actual simulation using some other code. If so, the
standard CO<em>N</em>CEPT snapshot format is of little use. To this end,
CO<em>N</em>CEPT also supports the binary Fortran format of
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/">GADGET-2</a>, specifically the
<em>second</em> type (<code class="docutils literal notranslate"><span class="pre">SnapFormat</span> <span class="pre">=</span> <span class="pre">2</span></code> in GADGET-2), which is understood by several
other simulation codes and tools. To use this snapshot format in place of the
standard one, add <code class="docutils literal notranslate"><span class="pre">snapshot_type</span> <span class="pre">=</span> <span class="pre">'gadget2'</span></code> to your parameter file.</p>
<h3>The info utility</h3><p>We mentioned <a class="reference external" href="http://vitables.org/">ViTables</a> as a great way to peek inside
the default CO<em>N</em>CEPT (HDF5) snapshots. It would be nice to have a general
tool which worked for the supported GADGET-2 snapshots as well. Luckily,
CO<em>N</em>CEPT comes with just such a tool: the <em>info utility</em>. To try it out,
simply do</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./concept -u info output/tutorial
</pre></div>
</div>
<p>The content of all snapshots — standard (HDF5) or GADGET-2 format — in the
<code class="docutils literal notranslate"><span class="pre">output/tutorial</span></code> directory will now be printed to the screen. Should you
want information about just a specific snapshot, simply provide its entire
path.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="working_remotely.html" class="btn btn-neutral float-right" title="6. Working on remote clusters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gravity.html" class="btn btn-neutral float-left" title="4. Mastering gravity" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>