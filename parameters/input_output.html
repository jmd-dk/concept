<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Input/output &mdash; CONCEPT Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://jmd-dk.github.io/concept/parameters/input_output.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Numerics" href="numerics.html" />
    <link rel="prev" title="Parameters" href="parameters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> CO<em>N</em>CEPT
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/installation.html">1. Effortless installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/first_simulations.html">2. Your first simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/parameter_files.html">3. Working with parameter files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gravity.html">4. Mastering gravity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/gravity.html#the-pm-method">4.1. The PM method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/gravity.html#the-p3m-method">4.2. The PÂ³M method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/output_types.html">5. Other kinds of output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#bispectra">5.1. Bispectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#d-renders">5.2. 3D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#id1">5.3. 2D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#snapshots">5.4. Snapshots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/working_remotely.html">6. Working on remote clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/beyond_matter_only.html">7. Beyond matter-only simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#radiation">7.1. Radiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#massive-neutrinos">7.2. Massive neutrinos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#dynamical-dark-energy">7.3. Dynamical dark energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#decaying-cold-dark-matter">7.4. Decaying cold dark matter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#non-linear-massive-neutrinos">7.5. Non-linear massive neutrinos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/bispectra.html">8. Bispectra and 2LPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gadget.html">9. Comparison with GADGET-2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#supported-platforms">Supported platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#standard-installation">Standard installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#optimal-network-performance-on-clusters">Optimal network performance on clusters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#cloning-with-git">Cloning with Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-install-script-in-depth">The <code class="docutils literal notranslate"><span class="pre">install</span></code> script in-depth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#programs-installed">Programs installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#command-line-options">Command-line options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#influential-environment-variables">Influential environment variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#making-use-of-pre-installed-libraries">Making use of pre-installed libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-versions">Specifying dependency versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-urls">Specifying dependency URLs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#choosing-compiler-precedence">Choosing compiler precedence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#installing-mpich-or-openmpi">Installing MPICH or OpenMPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#parallel-builds">Parallel builds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#using-the-install-script-to-install-specific-libraries-but-not-concept-itself">Using the <code class="docutils literal notranslate"><span class="pre">install</span></code> script to install specific libraries but not CO<em>N</em>CEPT itself</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#python-dependencies">Python dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#other-primary-dependencies">Other primary dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#system-dependencies">System dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-path-and-env-files">The <code class="docutils literal notranslate"><span class="pre">.path</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-path-file">The <code class="docutils literal notranslate"><span class="pre">.path</span></code> file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-env-file">The <code class="docutils literal notranslate"><span class="pre">.env</span></code> file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#path-like-environment-variables"><code class="docutils literal notranslate"><span class="pre">PATH</span></code>-like environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#eliminating-interference-from-foreign-python-installations">Eliminating interference from foreign Python installations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-mpi-executor">The <code class="docutils literal notranslate"><span class="pre">mpi_executor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-make-jobs-environment-variable">The <code class="docutils literal notranslate"><span class="pre">make_jobs</span></code> environment variable</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command_line_options.html">Command-line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#basics">Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#help-h-help">Help: <code class="docutils literal notranslate"><span class="pre">-h</span></code>, <code class="docutils literal notranslate"><span class="pre">--help</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#parameter-file-p-params">Parameter file: <code class="docutils literal notranslate"><span class="pre">-p</span></code>, <code class="docutils literal notranslate"><span class="pre">--params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#command-line-parameters-c-command-line-params">Command-line parameters: <code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">--command-line-params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#number-of-processes-n-nprocs">Number of processes: <code class="docutils literal notranslate"><span class="pre">-n</span></code>, <code class="docutils literal notranslate"><span class="pre">--nprocs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../command_line_options.html#specifying-multiple-nodes">Specifying multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#utility-u-utility">Utility: <code class="docutils literal notranslate"><span class="pre">-u</span></code>, <code class="docutils literal notranslate"><span class="pre">--utility</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#remote-job-submission">Remote job submission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#queue-q-queue">Queue: <code class="docutils literal notranslate"><span class="pre">-q</span></code>, <code class="docutils literal notranslate"><span class="pre">--queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#wall-time-w-walltime">Wall time: <code class="docutils literal notranslate"><span class="pre">-w</span></code>, <code class="docutils literal notranslate"><span class="pre">--walltime</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#memory-memory">Memory: <code class="docutils literal notranslate"><span class="pre">--memory</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-name-job-name">Job name: <code class="docutils literal notranslate"><span class="pre">--job-name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-directive-j-job-directive">Job directive: <code class="docutils literal notranslate"><span class="pre">-j</span></code>, <code class="docutils literal notranslate"><span class="pre">--job-directive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-watching-no-watching">No watching: <code class="docutils literal notranslate"><span class="pre">--no-watching</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#other-modes-of-building-running">Other modes of building/running</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#local-local">Local: <code class="docutils literal notranslate"><span class="pre">--local</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#pure-python-pure-python">Pure Python: <code class="docutils literal notranslate"><span class="pre">--pure-python</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#build-b-build">Build: <code class="docutils literal notranslate"><span class="pre">-b</span></code>, <code class="docutils literal notranslate"><span class="pre">--build</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#rebuild-rebuild">Rebuild: <code class="docutils literal notranslate"><span class="pre">--rebuild</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#native-optimizations-native-optimizations">Native optimizations: <code class="docutils literal notranslate"><span class="pre">--native-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-link-time-optimizations-no-lto">No link time optimizations: <code class="docutils literal notranslate"><span class="pre">--no-lto</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-optimizations-no-optimizations">No optimizations: <code class="docutils literal notranslate"><span class="pre">--no-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#unsafe-building-unsafe-building">Unsafe building: <code class="docutils literal notranslate"><span class="pre">--unsafe-building</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#specials">Specials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#test-t-tests">Test: <code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">--tests</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#main-entry-point-m-main">Main entry point: <code class="docutils literal notranslate"><span class="pre">-m</span></code>, <code class="docutils literal notranslate"><span class="pre">--main</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#interactive-i-interactive">Interactive: <code class="docutils literal notranslate"><span class="pre">-i</span></code>, <code class="docutils literal notranslate"><span class="pre">--interactive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#version-v-version">Version: <code class="docutils literal notranslate"><span class="pre">-v</span></code>, <code class="docutils literal notranslate"><span class="pre">--version</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="parameters.html">Parameters</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Input/output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initial-conditions"><code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-dirs"><code class="docutils literal notranslate"><span class="pre">output_dirs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-bases"><code class="docutils literal notranslate"><span class="pre">output_bases</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-times"><code class="docutils literal notranslate"><span class="pre">output_times</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#autosave-interval"><code class="docutils literal notranslate"><span class="pre">autosave_interval</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#snapshot-select"><code class="docutils literal notranslate"><span class="pre">snapshot_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#powerspec-select"><code class="docutils literal notranslate"><span class="pre">powerspec_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bispec-select"><code class="docutils literal notranslate"><span class="pre">bispec_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#render2d-select"><code class="docutils literal notranslate"><span class="pre">render2D_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#render3d-select"><code class="docutils literal notranslate"><span class="pre">render3D_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#snapshot-type"><code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#gadget-snapshot-params"><code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#snapshot-wrap"><code class="docutils literal notranslate"><span class="pre">snapshot_wrap</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-particle-id"><code class="docutils literal notranslate"><span class="pre">select_particle_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-plot-perturbations"><code class="docutils literal notranslate"><span class="pre">class_plot_perturbations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-extra-background"><code class="docutils literal notranslate"><span class="pre">class_extra_background</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-extra-perturbations"><code class="docutils literal notranslate"><span class="pre">class_extra_perturbations</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerics.html">Numerics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#boxsize"><code class="docutils literal notranslate"><span class="pre">boxsize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#potential-options"><code class="docutils literal notranslate"><span class="pre">potential_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#shortrange-params"><code class="docutils literal notranslate"><span class="pre">shortrange_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#powerspec-options"><code class="docutils literal notranslate"><span class="pre">powerspec_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#bispec-options"><code class="docutils literal notranslate"><span class="pre">bispec_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#bispec-antialiasing"><code class="docutils literal notranslate"><span class="pre">bispec_antialiasing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#class-dedicated-spectra"><code class="docutils literal notranslate"><span class="pre">class_dedicated_spectra</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#class-modes-per-decade"><code class="docutils literal notranslate"><span class="pre">class_modes_per_decade</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cosmology.html">Cosmology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#h0"><code class="docutils literal notranslate"><span class="pre">H0</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#b"><code class="docutils literal notranslate"><span class="pre">Î©b</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#cdm"><code class="docutils literal notranslate"><span class="pre">Î©cdm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#a-begin"><code class="docutils literal notranslate"><span class="pre">a_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#t-begin"><code class="docutils literal notranslate"><span class="pre">t_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#primordial-spectrum"><code class="docutils literal notranslate"><span class="pre">primordial_spectrum</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#class-params"><code class="docutils literal notranslate"><span class="pre">class_params</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="physics.html">Physics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="physics.html#select-forces"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="physics.html#select-species"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="physics.html#realization-options"><code class="docutils literal notranslate"><span class="pre">realization_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="physics.html#select-lives"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="physics.html#softening-kernel"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="physics.html#select-softening-length"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simulation.html">Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-base-background-factor"><code class="docutils literal notranslate"><span class="pre">Ît_base_background_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-base-nonlinear-factor"><code class="docutils literal notranslate"><span class="pre">Ît_base_nonlinear_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-increase-max-factor"><code class="docutils literal notranslate"><span class="pre">Ît_increase_max_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-rung-factor"><code class="docutils literal notranslate"><span class="pre">Ît_rung_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#a-max-early"><code class="docutils literal notranslate"><span class="pre">Îa_max_early</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#a-max-late"><code class="docutils literal notranslate"><span class="pre">Îa_max_late</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#static-timestepping"><code class="docutils literal notranslate"><span class="pre">static_timestepping</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#n-rungs"><code class="docutils literal notranslate"><span class="pre">N_rungs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-rigor"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_rigor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-reuse"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_reuse</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-share"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_share</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#random-seeds"><code class="docutils literal notranslate"><span class="pre">random_seeds</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#primordial-amplitude-fixed"><code class="docutils literal notranslate"><span class="pre">primordial_amplitude_fixed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#primordial-phase-shift"><code class="docutils literal notranslate"><span class="pre">primordial_phase_shift</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#cell-centered"><code class="docutils literal notranslate"><span class="pre">cell_centered</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#class-k-max"><code class="docutils literal notranslate"><span class="pre">class_k_max</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#class-reuse"><code class="docutils literal notranslate"><span class="pre">class_reuse</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="graphics.html">Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#terminal-width"><code class="docutils literal notranslate"><span class="pre">terminal_width</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#enable-terminal-formatting"><code class="docutils literal notranslate"><span class="pre">enable_terminal_formatting</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render2d-options"><code class="docutils literal notranslate"><span class="pre">render2D_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render3d-options"><code class="docutils literal notranslate"><span class="pre">render3D_options</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="units.html">Units</a><ul>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-length"><code class="docutils literal notranslate"><span class="pre">unit_length</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-time"><code class="docutils literal notranslate"><span class="pre">unit_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-mass"><code class="docutils literal notranslate"><span class="pre">unit_mass</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#print-load-imbalance"><code class="docutils literal notranslate"><span class="pre">print_load_imbalance</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#particle-reordering"><code class="docutils literal notranslate"><span class="pre">particle_reordering</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#enable-hubble"><code class="docutils literal notranslate"><span class="pre">enable_Hubble</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#enable-class-background"><code class="docutils literal notranslate"><span class="pre">enable_class_background</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utilities/class.html">class utility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#basic-usage">Basic usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#command-line-options">Command-line options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#help-h-help">Help: <code class="docutils literal notranslate"><span class="pre">-h</span></code>, <code class="docutils literal notranslate"><span class="pre">--help</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#minimum-fourier-mode-kmin">Minimum Fourier mode: <code class="docutils literal notranslate"><span class="pre">--kmin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#maximum-fourier-mode-kmax">Maximum Fourier mode: <code class="docutils literal notranslate"><span class="pre">--kmax</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#fourier-modes-modes">Fourier modes: <code class="docutils literal notranslate"><span class="pre">--modes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#times-times">Times: <code class="docutils literal notranslate"><span class="pre">--times</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#gauge-gauge">Gauge: <code class="docutils literal notranslate"><span class="pre">--gauge</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#file-contents">File contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#data-layout">Data layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#extra-output">Extra output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#units">Units</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#complete-example-massive-neutrinos">Complete example (massive neutrinos)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#running-through-docker">Running through Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#tips-and-tricks">Tips and tricks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/convert.html">convert utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/gadget.html">gadget utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/info.html">info utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/play.html">play utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/powerspec.html">powerspec utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/bispec.html">bispec utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/render3D.html">render3D utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/update.html">update utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/watch.html">watch utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#installation-failed">Installation failed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#compilation-failed">Compilation failed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#insufficient-memory">Insufficient memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#dangerous-optimizations">Dangerous optimizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#terminal-colour-output-looks-weird">Terminal colour output looks weird</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-related-to-python-libraries-and-packages">Problems related to Python libraries and packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#error-messages-containing-read-1">Error messages containing âRead -1â</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#clock-skew-and-or-modification-times-in-the-future">Clock skew and/or modification times in the future</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#mixed-compiled-and-pure-python-mode">Mixed compiled and pure Python mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#the-simulation-hangs-when-calling-class">The simulation hangs when calling CLASS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#crashes-or-other-bad-behaviour">Crashes or other bad behaviour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-running-remotely">Problems when running remotely</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#choosing-an-mpi-executor">Choosing an MPI executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#different-hardware-architecture-on-front-end-and-remote-node">Different hardware architecture on front-end and remote node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#it-still-does-not-work">It <em>still</em> does not work!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#bad-performance-when-using-multiple-processes-nodes">Bad performance when using multiple processes/nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-using-multiple-nodes">Problems when using multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../publications.html#theses">Theses</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CO<em>N</em>CEPT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="parameters.html">Parameters</a> &raquo;</li>
      <li>Input/output</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/jmd-dk/concept/" class="fa fa-github"> Code Repository</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="parameters.html" class="btn btn-neutral float-left" title="Parameters" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="numerics.html" class="btn btn-neutral float-right" title="Numerics" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="input-output">
<h1>Input/output<a class="headerlink" href="#input-output" title="Permalink to this headline">ï</a></h1>
<p>The âinput/outputâ parameter category contains parameters specifying the
initial conditions as well as the wanted results to be outputted from the
CO<em>N</em>CEPT run.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#initial-conditions" id="id13"><code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code></a></p></li>
<li><p><a class="reference internal" href="#output-dirs" id="id14"><code class="docutils literal notranslate"><span class="pre">output_dirs</span></code></a></p></li>
<li><p><a class="reference internal" href="#output-bases" id="id15"><code class="docutils literal notranslate"><span class="pre">output_bases</span></code></a></p></li>
<li><p><a class="reference internal" href="#output-times" id="id16"><code class="docutils literal notranslate"><span class="pre">output_times</span></code></a></p></li>
<li><p><a class="reference internal" href="#autosave-interval" id="id17"><code class="docutils literal notranslate"><span class="pre">autosave_interval</span></code></a></p></li>
<li><p><a class="reference internal" href="#snapshot-select" id="id18"><code class="docutils literal notranslate"><span class="pre">snapshot_select</span></code></a></p></li>
<li><p><a class="reference internal" href="#powerspec-select" id="id19"><code class="docutils literal notranslate"><span class="pre">powerspec_select</span></code></a></p></li>
<li><p><a class="reference internal" href="#bispec-select" id="id20"><code class="docutils literal notranslate"><span class="pre">bispec_select</span></code></a></p></li>
<li><p><a class="reference internal" href="#render2d-select" id="id21"><code class="docutils literal notranslate"><span class="pre">render2D_select</span></code></a></p></li>
<li><p><a class="reference internal" href="#render3d-select" id="id22"><code class="docutils literal notranslate"><span class="pre">render3D_select</span></code></a></p></li>
<li><p><a class="reference internal" href="#snapshot-type" id="id23"><code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code></a></p></li>
<li><p><a class="reference internal" href="#gadget-snapshot-params" id="id24"><code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code></a></p></li>
<li><p><a class="reference internal" href="#snapshot-wrap" id="id25"><code class="docutils literal notranslate"><span class="pre">snapshot_wrap</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-particle-id" id="id26"><code class="docutils literal notranslate"><span class="pre">select_particle_id</span></code></a></p></li>
<li><p><a class="reference internal" href="#class-plot-perturbations" id="id27"><code class="docutils literal notranslate"><span class="pre">class_plot_perturbations</span></code></a></p></li>
<li><p><a class="reference internal" href="#class-extra-background" id="id28"><code class="docutils literal notranslate"><span class="pre">class_extra_background</span></code></a></p></li>
<li><p><a class="reference internal" href="#class-extra-perturbations" id="id29"><code class="docutils literal notranslate"><span class="pre">class_extra_perturbations</span></code></a></p></li>
</ul>
</div>
<hr class="docutils" />
<section id="initial-conditions">
<span id="id1"></span><h2><a class="toc-backref" href="#id13"><code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code></a><a class="headerlink" href="#initial-conditions" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the initial conditions of the simulation</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;&#39;</span>  <span class="c1"># no initial conditions</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>There are two kinds of initial condition specifications:</p>
<ul class="simple">
<li><p>Component specifications, describing a component for
which initial conditions should be generated.</p></li>
<li><p>Paths to snapshot files containing the initial
conditions.</p></li>
</ul>
<p>Several such specifications may be used together when
defining <code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code>, and the two kinds may
be used together.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Generate initial conditions consisting of a single
component comprised of <span class="math notranslate nohighlight">\(128^3\)</span> matter particles.
The particle positions and momenta will be set according
to the combined baryonic and cold dark matter transfer
functions:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
   <span class="s1">&#39;N&#39;</span>      <span class="p">:</span> <span class="mi">128</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Load initial conditions from the snapshot <code class="docutils literal notranslate"><span class="pre">snapshot</span></code>
in the <code class="docutils literal notranslate"><span class="pre">ic</span></code> directory:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">ic</span><span class="si">}</span><span class="s1">/snapshot&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the snapshot is distributed over multiple files,
use the path to either the first file, the directory
containing the files (and nothing else) or use
globbing as in <code class="docutils literal notranslate"><span class="pre">f'{path.ic}/snapshot*'</span></code>.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Generate initial conditions where baryonic and cold dark
matter particles are realised separately as individual
components, each comprised of <span class="math notranslate nohighlight">\(64^3\)</span> particles:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="s1">&#39;cold dark matter&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N&#39;</span>      <span class="p">:</span> <span class="mi">64</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="s1">&#39;baryon&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N&#39;</span>      <span class="p">:</span> <span class="mi">64</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>When realising two particle components with the same
number of particles <span class="math notranslate nohighlight">\(N\)</span>, the two particle
distributions will be pre-initialised on relatively
shifted lattices, amounting to using a body-centered
cubic (bcc) lattice for the combined particle system.</p>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 3</strong></p></td>
<td><p></p></td>
<td><p>Generate initial conditions consisting of a combined
matter component with <span class="math notranslate nohighlight">\(64^3\)</span> particles, as well as
a fluid component containing the combined linear energy
density perturbations of the photons, the neutrinos and
the metric, having a linear grid size of <span class="math notranslate nohighlight">\(64\)</span> (and
thus <span class="math notranslate nohighlight">\(64^3\)</span> fluid elements):</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
        <span class="s1">&#39;N&#39;</span>      <span class="p">:</span> <span class="mi">64</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;name&#39;</span>           <span class="p">:</span> <span class="s1">&#39;linear component&#39;</span><span class="p">,</span>
        <span class="s1">&#39;species&#39;</span>        <span class="p">:</span> <span class="s1">&#39;photon + neutrino + metric&#39;</span><span class="p">,</span>
        <span class="s1">&#39;gridsize&#39;</span>       <span class="p">:</span> <span class="mi">64</span><span class="p">,</span>
        <span class="s1">&#39;boltzmann order&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="c1"># completely linear</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">'name'</span></code> assigned to a component is used only
for referencing by other parameters and may generally
be omitted. If so, this will be set equal to the
value of <code class="docutils literal notranslate"><span class="pre">'species'</span></code>.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 4</strong></p></td>
<td><p></p></td>
<td><p>Use combined initial conditions from the two snapshots
<code class="docutils literal notranslate"><span class="pre">snapshot_b</span></code> and <code class="docutils literal notranslate"><span class="pre">snapshot_cdm</span></code> in the <code class="docutils literal notranslate"><span class="pre">ic</span></code>
directory, supplemented by a non-linear neutrino
component generated on the fly:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">ic</span><span class="si">}</span><span class="s1">/snapshot_b&#39;</span><span class="p">,</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">ic</span><span class="si">}</span><span class="s1">/snapshot_cdm&#39;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s1">&#39;species&#39;</span>        <span class="p">:</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">,</span>
        <span class="s1">&#39;gridsize&#39;</span>       <span class="p">:</span> <span class="mi">128</span><span class="p">,</span>
        <span class="s1">&#39;boltzmann order&#39;</span><span class="p">:</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span>  <span class="c1"># non-linear</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 5</strong></p></td>
<td><p></p></td>
<td><p>Generate initial conditions consisting of a single
component comprised of <span class="math notranslate nohighlight">\(2\times 64^3\)</span> matter
particles:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">initial_conditions</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s1">&#39;species&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
   <span class="s1">&#39;N&#39;</span>      <span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="mi">64</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As the number of particles is of the form
<span class="math notranslate nohighlight">\(N = 2n^3\)</span> rather than the standard
<span class="math notranslate nohighlight">\(N = n^3\)</span>, the particles will be pre-initialised
on lattice points of a body-centered (bcc) lattice
rather than a simple cubic (sc) lattice. Similarly,
components with <span class="math notranslate nohighlight">\(N = 4n^3\)</span> (e.g. <code class="docutils literal notranslate"><span class="pre">'N':</span> <span class="pre">4*64**3</span></code>)
particles will be pre-initialised on a face-centered
cubic (fcc) lattice.</p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="output-dirs">
<span id="id2"></span><h2><a class="toc-backref" href="#id14"><code class="docutils literal notranslate"><span class="pre">output_dirs</span></code></a><a class="headerlink" href="#output-dirs" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Directories for storing output</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span> <span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
    <span class="s1">&#39;bispec&#39;</span>   <span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
    <span class="s1">&#39;render3D&#39;</span> <span class="p">:</span> <span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
    <span class="s1">&#39;autosave&#39;</span> <span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">ic_dir</span><span class="si">}</span><span class="s1">/autosave&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with the keys <code class="docutils literal notranslate"><span class="pre">'snapshot'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'powerspec'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bispec'</span></code>, <code class="docutils literal notranslate"><span class="pre">'render2D'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'render3D'</span></code> and <code class="docutils literal notranslate"><span class="pre">'autosave'</span></code>, mapping to directory
paths to use for snapshot outputs, power spectrum
outputs, bispectrum outputs, 2D render outputs,
3D render outputs and autosaves, respectively.</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Dump power spectra to a directory with a name that
reflects the name of the parameter file:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_dirs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unspecified entries will take on their
default values</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Use the same directory for all output, and let its name
reflect the ID of the running job:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_dirs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span> <span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">path</span><span class="o">.</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">jobid</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;bispec&#39;</span>   <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render3D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Dump all output (even autosaves) to the directory
containing the parameter file currently in use:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_dirs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span> <span class="p">:</span> <span class="n">param</span><span class="o">.</span><span class="n">dir</span><span class="p">,</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;bispec&#39;</span>   <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;render3D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
    <span class="s1">&#39;autosave&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When all the different outputs should go to the same
directory (like above), we may instead specify this as
simply</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_dirs</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">dir</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="output-bases">
<h2><a class="toc-backref" href="#id15"><code class="docutils literal notranslate"><span class="pre">output_bases</span></code></a><a class="headerlink" href="#output-bases" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>File base names for output</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span> <span class="p">:</span> <span class="s1">&#39;snapshot&#39;</span><span class="p">,</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="s1">&#39;powerspec&#39;</span><span class="p">,</span>
    <span class="s1">&#39;bispec&#39;</span>   <span class="p">:</span> <span class="s1">&#39;bispec&#39;</span><span class="p">,</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="s1">&#39;render2D&#39;</span><span class="p">,</span>
    <span class="s1">&#39;render3D&#39;</span> <span class="p">:</span> <span class="s1">&#39;render3D&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with the keys <code class="docutils literal notranslate"><span class="pre">'snapshot'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'powerspec'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bispec'</span></code>, <code class="docutils literal notranslate"><span class="pre">'render2D'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'render3D'</span></code>, mapping to file base names of the
respective output types.</p>
<p>The file name of e.g. a power spectrum output at scale
factor <span class="math notranslate nohighlight">\(a = 1.0\)</span> will be
<code class="docutils literal notranslate"><span class="pre">output_bases['powerspec']</span> <span class="pre">+</span> <span class="pre">'_a=1.0'</span></code>. The directory
of this file is <a class="reference internal" href="#output-dirs"><span class="std std-ref">controlled by</span></a>
<code class="docutils literal notranslate"><span class="pre">output_dirs['powerspec']</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use a shorter name for power spectrum files:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_bases</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unspecified entries will take on their
default values</p>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="output-times">
<h2><a class="toc-backref" href="#id16"><code class="docutils literal notranslate"><span class="pre">output_times</span></code></a><a class="headerlink" href="#output-times" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Times at which to dump output</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{}</span>  <span class="c1"># no output times</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>In its simplest form this is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with the keys
<code class="docutils literal notranslate"><span class="pre">'snapshot'</span></code>, <code class="docutils literal notranslate"><span class="pre">'powerspec'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bispec'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'render2D'</span></code> and <code class="docutils literal notranslate"><span class="pre">'render3D'</span></code>, mapping to scale
factor values <span class="math notranslate nohighlight">\(a\)</span> at which to dump the respective
outputs.</p>
<p>Alternatively, such <code class="docutils literal notranslate"><span class="pre">dict</span></code>s can be used as values
within an outer <code class="docutils literal notranslate"><span class="pre">dict</span></code> with keys <code class="docutils literal notranslate"><span class="pre">'a'</span></code> and <code class="docutils literal notranslate"><span class="pre">'t'</span></code>,
for specifying output times at either scale factor
values <span class="math notranslate nohighlight">\(a\)</span> or cosmic times <span class="math notranslate nohighlight">\(t\)</span>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Specify a single power spectrum output at <span class="math notranslate nohighlight">\(a = 1\)</span>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_times</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Specify snapshot outputs at <span class="math notranslate nohighlight">\(a = 0.1\)</span>,
<span class="math notranslate nohighlight">\(a = 0.3\)</span> and <span class="math notranslate nohighlight">\(a = 1\)</span>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_times</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;snapshot&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Specify 8 power spectrum outputs between the initial
<span class="math notranslate nohighlight">\(a = a_{\text{begin}}\)</span> and final <span class="math notranslate nohighlight">\(a = 1\)</span>,
placed logarithmically equidistant:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_times</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="n">logspace</span><span class="p">(</span><span class="n">log10</span><span class="p">(</span><span class="n">a_begin</span><span class="p">),</span> <span class="n">log10</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">8</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 3</strong></p></td>
<td><p></p></td>
<td><p>Specify a series of power spectrum outputs and use these
same values for 2D renders:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_times</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;powerspec&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="s1">&#39;render2D&#39;</span> <span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 4</strong></p></td>
<td><p></p></td>
<td><p>Specify snapshots at cosmic times
<span class="math notranslate nohighlight">\(t = 1729\,\text{Myr}\)</span> and
<span class="math notranslate nohighlight">\(t = 13\,\text{Gyr}\)</span>, as well as at scale factor
<span class="math notranslate nohighlight">\(a = 1\)</span>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">output_times</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;snapshot&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1729</span><span class="o">*</span><span class="n">Myr</span><span class="p">,</span> <span class="mi">13</span><span class="o">*</span><span class="n">Gyr</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;snapshot&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="autosave-interval">
<h2><a class="toc-backref" href="#id17"><code class="docutils literal notranslate"><span class="pre">autosave_interval</span></code></a><a class="headerlink" href="#autosave-interval" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Time interval between successive automated saves of the
simulation to disk</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">á</span>  <span class="c1"># never autosave</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>Setting this to some finite time will periodically dump
a snapshot, intended for use with restarting the
simulation in case of crashes or similar. The autosaved
snapshot is written to a subdirectory
<a class="reference internal" href="#output-dirs"><span class="std std-ref">of</span></a> <code class="docutils literal notranslate"><span class="pre">output_dirs['autosave']</span></code> and
named in accordance with the parameter file in use.</p>
<p>Starting a simulation with the same parameter file will
pick up on such an autosaved snapshot, if it exists.</p>
<p>When autosaving, the previous autosave will be
overwritten (in a fail-safe manner), so that only the
newest autosave remains.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Autosave about every hour:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">autosave_interval</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">hr</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Autosave 5 times a day:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">autosave_interval</span> <span class="o">=</span> <span class="n">day</span><span class="o">/</span><span class="mi">5</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Disabling autosaving, including starting from an
existing autosave on disk:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">autosave_interval</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is different from having an infinitely long
autosave interval,</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">autosave_interval</span> <span class="o">=</span> <span class="n">á</span>
</pre></div>
</div>
<p>as this still makes use of already existing
autosaves on disk.</p>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="snapshot-select">
<span id="id3"></span><h2><a class="toc-backref" href="#id18"><code class="docutils literal notranslate"><span class="pre">snapshot_select</span></code></a><a class="headerlink" href="#snapshot-select" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies what data of which components to include when
reading and writing snapshots</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;save&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;mom&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;Ï±&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;J&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="s1">&#39;load&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;mom&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;Ï±&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;J&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>The sub<code class="docutils literal notranslate"><span class="pre">dict</span></code>s <code class="docutils literal notranslate"><span class="pre">snapshot_select['save']</span></code> and
<code class="docutils literal notranslate"><span class="pre">snapshot_select['load']</span></code> are
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selections</span></a>
determining what data of which components to include
when writing and reading snapshots, respectively.
Here <code class="docutils literal notranslate"><span class="pre">'pos'</span></code> and <code class="docutils literal notranslate"><span class="pre">'mom'</span></code> are particle positions and
momenta, respectively, while <code class="docutils literal notranslate"><span class="pre">'Ï±'</span></code> and <code class="docutils literal notranslate"><span class="pre">'J'</span></code> are
fluid energy and momentum densities, respectively.</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Only include the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'matter'</span></code>, for both reading and writing.
Include all data, which is generally desirable:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;save&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;mom&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;Ï±&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;J&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="s1">&#39;load&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;mom&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;Ï±&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;J&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When all data is to be included,
the above can be simplified to</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;save&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;load&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Equivalently, but a bit shorter:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;save&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;load&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Even shorter still:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Exclude any (and only) fluid components when
writing snapshots:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;save&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;all&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;fluid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Components not captured by any specification defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>, so the above may be shortened to</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;save&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;fluid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Only read in positions when loading particles,
i.e. ignore momenta:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;load&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;mom&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Data variables left out defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>,
so the above may be shortened to</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;load&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Leaving out certain data when reading in snapshots
will result in components not being fully
initialized, e.g. in this example all particles
loaded from disk will not have any momenta assigned
(not even <span class="math notranslate nohighlight">\(0\)</span>). Running a simulation with such
a partially initialised component will result in a
crash.</p>
</div>
<p>The usefulness of this example is found when using e.g.
the <a class="reference internal" href="../utilities/powerspec.html"><span class="doc">powerspec utility</span></a> utility, where reading
in the momentum information only wastes time and memory.</p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="powerspec-select">
<span id="id4"></span><h2><a class="toc-backref" href="#id19"><code class="docutils literal notranslate"><span class="pre">powerspec_select</span></code></a><a class="headerlink" href="#powerspec-select" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the kind of power spectrum output to include
for different components</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;plot&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
determining which components participate in power
spectrum output, as well as what kind of power
spectrum output to include.</p>
<p>Here <code class="docutils literal notranslate"><span class="pre">'data'</span></code> refers to text files containing
tabulated values of the (auto) power spectrum
<span class="math notranslate nohighlight">\(P(k)\)</span>. A separate column within these files
containing the corresponding linear-theory power
spectrum is added if <code class="docutils literal notranslate"><span class="pre">'linear'</span></code> is also selected.
Selecting <code class="docutils literal notranslate"><span class="pre">'plot'</span></code> results in a plot of the specified
data, stored as a PNG file.</p>
<p>To tune the specifics of how power spectra are computed,
see the <code class="docutils literal notranslate"><span class="pre">powerspec_options</span></code>
<a class="reference internal" href="numerics.html#powerspec-options"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Dump power spectrum data files containing spectra for all
components, including both non-linear and linear data.
Do not dump any plots of this data:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">powerspec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;plot&#39;</span>  <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Leave out the linear power spectrum for every component
except the one with a name/species of <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>,
and do not make any plots:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">powerspec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>  <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;linear&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unspecified values are assigned <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Do not create any power spectrum outputs except plots
of the component with a name/species of <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">powerspec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span>   <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;plot&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 3</strong></p></td>
<td><p></p></td>
<td><p>Create full (auto) power spectrum outputs for
all components, as well as for the combined
<code class="docutils literal notranslate"><span class="pre">'matter'</span></code> and <code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">powerspec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span>                 <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;matter&#39;</span><span class="p">,</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">):</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="bispec-select">
<span id="id5"></span><h2><a class="toc-backref" href="#id20"><code class="docutils literal notranslate"><span class="pre">bispec_select</span></code></a><a class="headerlink" href="#bispec-select" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the kind of bispectrum output to include
for different components</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>      <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;reduced&#39;</span>   <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;tree-level&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;plot&#39;</span>      <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
determining which components participate in bispectrum
output, as well as what kind of bispectrum output
to include.</p>
<p>Here <code class="docutils literal notranslate"><span class="pre">'data'</span></code> refers to text files containing
tabulated values of the (auto) bispectrum
<span class="math notranslate nohighlight">\(B(k, t, \mu) = B(k_1, k_2, k_3)\)</span>. If
<code class="docutils literal notranslate"><span class="pre">'reduced'</span></code> is also selected, a separate column
containing the reduced bispectrum
<span class="math notranslate nohighlight">\(Q(k_1, k_2, k_3) \equiv B(k_1, k_2, k_3)/[P(k_1)P(k_2) + P(k_2)P(k_3) + P(k_3)P(k_1)]\)</span>
will be included within the text file. When
<code class="docutils literal notranslate"><span class="pre">'tree-level'</span></code> is selected, a separate column
containing the perturbative tree-level prediction of
<span class="math notranslate nohighlight">\(B\)</span> is added, and likewise for <span class="math notranslate nohighlight">\(Q\)</span> if
<code class="docutils literal notranslate"><span class="pre">'reduced'</span></code> is simultaneously selected. Selecting
<code class="docutils literal notranslate"><span class="pre">'plot'</span></code> results in a plot of the specified data,
stored as a PNG file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Tree-level predictions are available for matter-like
species only, and are
<a class="reference external" href="https://arxiv.org/abs/1602.05933">given by</a></p>
<div class="math notranslate nohighlight">
\[\begin{split}B_{\text{tree-level}}(k_1, k_2, k_3) = 2 [ \quad &amp;\mathcal{K}(k_1, k_2, k_3)P_{\text{L}}(k_1)P_{\text{L}}(k_2) \\
+ &amp;\mathcal{K}(k_2, k_3, k_1)P_{\text{L}}(k_2)P_{\text{L}}(k_3) \\
+ &amp;\mathcal{K}(k_3, k_1, k_2)P_{\text{L}}(k_3)P_{\text{L}}(k_1) ]\,,\end{split}\]</div>
<div class="math notranslate nohighlight">
\[\mathcal{K}(k_1, k_2, k_3) = 1 - \frac{1}{2}\biggl(1 + \frac{D^{(2)}}{D^2}\biggr) (1 - \mu^2) - \frac{\mu}{2}\biggl( \frac{k_1}{k_2} + \frac{k_2}{k_1} \biggr)\,,\]</div>
<div class="math notranslate nohighlight">
\[\mu = -\hat{\boldsymbol{k}}_1\cdot\hat{\boldsymbol{k}}_2 = \frac{k_1^2 + k_2^2 - k_3^2}{2k_1k_2}\,,\]</div>
<p>where <span class="math notranslate nohighlight">\(P_{\text{L}}(k)\)</span> is the linear power
spectrum while <span class="math notranslate nohighlight">\(D\)</span> and <span class="math notranslate nohighlight">\(D^{(2)}\)</span> are the
first- and second-order growth factors.</p>
</div>
<p>To tune the specifics of how bispectra are computed, see
the <code class="docutils literal notranslate"><span class="pre">bispec_options</span></code> <a class="reference internal" href="numerics.html#bispec-options"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Dump bispectrum data files containing spectra for all
components, including both non-linear and tree-level
data, for both the full and reduced bispectrum. Do not
dump any plots of this data:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bispec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>      <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;reduced&#39;</span>   <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;tree-level&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;plot&#39;</span>      <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Leave out the reduced bispectrum for every component
except the one with a name/species of <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>.
Do not include any tree-level predictions and do not
make any plots:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bispec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>   <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;reduced&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unspecified values are assigned <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Do not create any bispectrum outputs except plots
of the component with a name/species of <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>.
Include both the full and reduced bispectrum as well as
their tree-level predictions in the plots:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bispec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span>   <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;reduced&#39;</span>   <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;tree-level&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;plot&#39;</span>      <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 3</strong></p></td>
<td><p></p></td>
<td><p>Create full (auto) bispectrum outputs for all
components, as well as for the combined
<code class="docutils literal notranslate"><span class="pre">'matter'</span></code> and <code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">bispec_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span>                 <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;matter&#39;</span><span class="p">,</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">):</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="render2d-select">
<span id="id6"></span><h2><a class="toc-backref" href="#id21"><code class="docutils literal notranslate"><span class="pre">render2D_select</span></code></a><a class="headerlink" href="#render2d-select" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the kind of 2D render output to include
for different components</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>          <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;image&#39;</span>         <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;terminal image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
determining which components participate in 2D
render outputs, as well as what kind of 2D render
outputs to include.</p>
<p>Here <code class="docutils literal notranslate"><span class="pre">'data'</span></code> refers to HDF5 files containing the
values of the 2D projection, while <code class="docutils literal notranslate"><span class="pre">'image'</span></code> refers to
an actual rendered image, stored as a PNG file.
Finally, <code class="docutils literal notranslate"><span class="pre">'terminal</span> <span class="pre">image'</span></code> refers to colour renders
printed directly in the terminal, which thus become part
of the job log.</p>
<p>To tune the specifics of how 2D renders are created,
see the <code class="docutils literal notranslate"><span class="pre">render2D_options</span></code>
<a class="reference internal" href="graphics.html#render2d-options"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Store 2D renders as image files for all components,
and also display these in the terminal. Do not store
the raw 2D render data.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">render2D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span>          <span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s1">&#39;image&#39;</span>         <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;terminal image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Dump 2D render images for all components, but only show
the ones for the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> in the terminal:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">render2D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;neutrino&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;image&#39;</span>         <span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;terminal image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unspecified values are assigned <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Create full 2D render outputs for the combined
<code class="docutils literal notranslate"><span class="pre">'matter'</span></code> and <code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> components,
and nothing else:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">render2D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="s1">&#39;matter&#39;</span><span class="p">,</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">):</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="render3d-select">
<h2><a class="toc-backref" href="#id22"><code class="docutils literal notranslate"><span class="pre">render3D_select</span></code></a><a class="headerlink" href="#render3d-select" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies which components to include in 3D
render outputs</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
determining which components participate in 3D
render outputs. These are stored as PNG files.</p>
<p>To tune the specifics of how 3D renders are created,
see the <code class="docutils literal notranslate"><span class="pre">render3D_options</span></code>
<a class="reference internal" href="graphics.html#render3d-options"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Only do 3D renders of the component with a name/species
of <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">render3D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In a manner similar to the specifications within e.g.
the <code class="docutils literal notranslate"><span class="pre">render2D_select</span></code>
<a class="reference internal" href="#render2d-select"><span class="std std-ref">parameter</span></a>
we may also specify this as</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">render3D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Create 3D render outputs for the combined
<code class="docutils literal notranslate"><span class="pre">'matter'</span></code> and <code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> components,
and nothing else:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">render3D_select</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="s1">&#39;matter&#39;</span><span class="p">,</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">):</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="snapshot-type">
<span id="id7"></span><h2><a class="toc-backref" href="#id23"><code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code></a><a class="headerlink" href="#snapshot-type" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the snapshot format to use when dumping
snapshots</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;concept&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>CO<em>N</em>CEPT understands two snapshot
formats; <code class="docutils literal notranslate"><span class="pre">'concept'</span></code>, which is its own,
well-structured
<a class="reference external" href="https://www.hdfgroup.org/solutions/hdf5/">HDF5</a>
format, and <code class="docutils literal notranslate"><span class="pre">'gadget'</span></code>, which is the binary, non-HDF5
format of
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/">GADGET</a>.
Note that the value of <code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code> does
not affect which snapshots may be <em>read</em>, e.g. used
within the <code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code>
<a class="reference internal" href="#initial-conditions"><span class="std std-ref">parameter</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Dump output snapshots in GADGET format:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_type</span> <span class="o">=</span> <span class="s1">&#39;gadget&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though which components to include in/from snapshots
are generally determined by the <code class="docutils literal notranslate"><span class="pre">snapshot_select</span></code>
<a class="reference internal" href="#snapshot-select"><span class="std std-ref">parameter</span></a>, additional
information is needed to map components to/from the
<em>particle types</em> of GADGET (see table 3 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>).
When loading in a GADGET snapshot, the available
particle types will be read into separate components,
with names matching the particle type, e.g.
<code class="docutils literal notranslate"><span class="pre">'GADGET</span> <span class="pre">halo'</span></code> (particle type <code class="docutils literal notranslate"><span class="pre">1</span></code>),
<code class="docutils literal notranslate"><span class="pre">'GADGET</span> <span class="pre">disk'</span></code> (particle type <code class="docutils literal notranslate"><span class="pre">2</span></code>), etc. To
similarly map components in CO<em>N</em>CEPT to specific
particle types when writing GADGET snapshots, simply
use the appropriate names for the components within
CO<em>N</em>CEPT (i.e. set the <code class="docutils literal notranslate"><span class="pre">'name'</span></code> according to
the GADGET particle type when defining the
<code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code>
<a class="reference internal" href="#initial-conditions"><span class="std std-ref">parameter</span></a>). If a single
particle component is to be saved and its name does
not correspond to a GADGET particle type, the <code class="docutils literal notranslate"><span class="pre">halo</span></code>
type will be used.</p>
<p>By default, the species of all components read from
GADGET snapshots will be <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>. This can be
changed through the <code class="docutils literal notranslate"><span class="pre">select_species</span></code>
<a class="reference internal" href="physics.html#select-species"><span class="std std-ref">parameter</span></a>.</p>
</div>
<p>To adjust the specifics of the GADGET format to
your needs, see the <code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code>
<a class="reference internal" href="#gadget-snapshot-params"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="gadget-snapshot-params">
<span id="id8"></span><h2><a class="toc-backref" href="#id24"><code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code></a><a class="headerlink" href="#gadget-snapshot-params" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies various details for reading and writing of
GADGET snapshots</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;snapformat&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;dataformat&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;POS&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="s1">&#39;VEL&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
        <span class="s1">&#39;ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;automatic&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;Nall high word&#39;</span><span class="p">:</span> <span class="s1">&#39;NallHW&#39;</span><span class="p">,</span>
    <span class="s1">&#39;header&#39;</span><span class="p">:</span> <span class="p">{},</span>
    <span class="s1">&#39;settle&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;length&#39;</span>  <span class="p">:</span> <span class="s1">&#39;kpc/h&#39;</span><span class="p">,</span>
        <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="s1">&#39;km/s&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mass&#39;</span>    <span class="p">:</span> <span class="s1">&#39;10Â¹â° mâ/h&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This parameter is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> of several individual
sub-parameters, each of which is described below.</p>
<p>Sub-parameters which affect the <em>writing</em> of
GADGET-snapshots:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'snapformat'</span></code>: Specifies whether GADGET snapshots
should use a <code class="docutils literal notranslate"><span class="pre">SnapFormat</span></code> of <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">2</span></code>. Note
that <code class="docutils literal notranslate"><span class="pre">SnapFormat</span></code> <code class="docutils literal notranslate"><span class="pre">3</span></code> (the HDF5 format) is not
available. See section 5.1 in the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>
for more information.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'dataformat'</span></code>: This is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> specifying the
data type sizes to use when writing out particle
positions, velocities and
<a class="reference internal" href="#select-particle-id"><span class="std std-ref">IDs</span></a>. The corresponding
keys are <code class="docutils literal notranslate"><span class="pre">'POS'</span></code>, <code class="docutils literal notranslate"><span class="pre">'VEL'</span></code> and <code class="docutils literal notranslate"><span class="pre">'ID'</span></code>, which may
all have a value of either <code class="docutils literal notranslate"><span class="pre">32</span></code> or <code class="docutils literal notranslate"><span class="pre">64</span></code>,
specifying the size in bits (corresponding to single-
or double-precision for <code class="docutils literal notranslate"><span class="pre">'POS'</span></code> and <code class="docutils literal notranslate"><span class="pre">'VEL'</span></code>, and
4- or 8-byte unsigned integers (typically corresponding
to <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">long</span></code> in C)
for <code class="docutils literal notranslate"><span class="pre">'ID'</span></code>). In addition, the value of <code class="docutils literal notranslate"><span class="pre">'ID'</span></code> may
also be set to <code class="docutils literal notranslate"><span class="pre">'automatic'</span></code>, in which case 32 bits
will be used if this is enough to uniquely label each
particle (<span class="math notranslate nohighlight">\(N \leq 2^{32}\)</span>). If not, 64 bits will
be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Nall</span> <span class="pre">high</span> <span class="pre">word'</span></code>: The <code class="docutils literal notranslate"><span class="pre">Nall</span></code> field of the header
(see table 4 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>)
is meant to store the total number <span class="math notranslate nohighlight">\(N\)</span> of
particles (of each type) within the snapshot, summed
over all files in case of the snapshot being
distributed over several files. Unfortunately, this is
a 32-bit field, and so cannot store <span class="math notranslate nohighlight">\(N\)</span> in the
case of <span class="math notranslate nohighlight">\(N &gt; 2^{32}\)</span>. To overcome this
limitation, another 32-bit field <code class="docutils literal notranslate"><span class="pre">NallHW</span></code> exists,
meant to contain the âhigh wordâ part of a now
distributed 64-integer, with <code class="docutils literal notranslate"><span class="pre">Nall</span></code> supplying the
âlow wordâ part. This is the behaviour given the
default</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Nall high word&#39;</span><span class="p">:</span> <span class="s1">&#39;NallHW&#39;</span>
</pre></div>
</div>
<p>A separate convention (used by at least some versions
of
<a class="reference external" href="https://www.h-its.org/2014/11/05/ngenic-code/">NGenIC</a>)
is to only allow for particle type 1 (<code class="docutils literal notranslate"><span class="pre">halo</span></code>
particles, corresponding to (cold dark) matter; see
table 3 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>)
and store all 64 bits within <code class="docutils literal notranslate"><span class="pre">Nall</span></code>, overflowing into
the (now unused) slot usually designated to particle
type 2. This convention can be chosen by specifying</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;Nall high word&#39;</span><span class="p">:</span> <span class="s1">&#39;Nall&#39;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'header'</span></code>: The contents of the GADGET header (the
<code class="docutils literal notranslate"><span class="pre">HEAD</span></code> block) will match the specifications in table
4 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>.
You may overwrite the values of the various fields by
specifying them in the <code class="docutils literal notranslate"><span class="pre">'header'</span></code> sub-<code class="docutils literal notranslate"><span class="pre">dict</span></code>,
e.g.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;header&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;HubbleParam&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
    <span class="s1">&#39;FlagSfr&#39;</span>    <span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">'HubbleParam'</span></code>
(<span class="math notranslate nohighlight">\(h \equiv H_0/(100\, \text{km}\, \text{s}^{-1}\, \text{Mpc}^{-1})\)</span>)
will be set to <code class="docutils literal notranslate"><span class="pre">0.7</span></code>, disregarding the value of the
<a class="reference internal" href="cosmology.html#h0"><span class="std std-ref">Hubble constant</span></a> <code class="docutils literal notranslate"><span class="pre">H0</span></code> actually in use.
The <code class="docutils literal notranslate"><span class="pre">FlagSfr</span></code> field does not mean anything to
CO<em>N</em>CEPT and as so will always be set equal to
<code class="docutils literal notranslate"><span class="pre">0</span></code>. This is changed to <code class="docutils literal notranslate"><span class="pre">1</span></code> by the above parameter
specification.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CO<em>N</em>CEPT does not provide a way to specify the
number of files over which to distribute each GADGET
snapshot. It simply writes as few files as possible,
with the maximum number of particles per file
(assuming single-precision data) being
<span class="math notranslate nohighlight">\(178\,956\,969 \approx 563^3\)</span>, the exact number
coming about due to the details of the GADGET format.
When using double-precision, this number is adjusted
accordingly.</p>
</div>
<p>Sub-parameters which affect the <em>reading</em> of
GADGET-snapshots:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'settle'</span></code>: If a GADGET snapshot is stored in
<code class="docutils literal notranslate"><span class="pre">SnapFormat</span></code> <code class="docutils literal notranslate"><span class="pre">2</span></code> (see the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>),
the size of a block is effectively stored twice before
its data begins. If these two sizes disagree, we need
to settle for one of them. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> for
<code class="docutils literal notranslate"><span class="pre">'settle'</span></code> picks the first size, while a value of
<code class="docutils literal notranslate"><span class="pre">1</span></code> picks the second size. Regardless, a warning
will be given if the two sizes disagree.</p></li>
</ul>
<p>Sub-parameters which affect <em>both</em> the reading
and writing of GADGET-snapshots:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'units'</span></code>: While the units used for the data within
GADGET snapshots are typically as shown above, i.e.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;length&#39;</span>  <span class="p">:</span> <span class="s1">&#39;kpc/h&#39;</span><span class="p">,</span>
    <span class="s1">&#39;velocity&#39;</span><span class="p">:</span> <span class="s1">&#39;km/s&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mass&#39;</span>    <span class="p">:</span> <span class="s1">&#39;10Â¹â° mâ/h&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>this is not guaranteed. Information about the unit
system actually in use is however not stored within
the snapshot. Thus, this sub-parameter allows you to
specify the units used within existing snapshots, as
well as what units should be used when writing out new
snapshots.</p>
</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use <code class="docutils literal notranslate"><span class="pre">SnapFormat</span></code> <code class="docutils literal notranslate"><span class="pre">1</span></code> with all data being stored in
64-bit, and using <code class="docutils literal notranslate"><span class="pre">Mpc/h</span></code> for the base length unit:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">gadget_snapshot_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;snapformat&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;dataformat&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;POS&#39;</span><span class="p">:</span> <span class="mi">64</span><span class="p">,</span>
        <span class="s1">&#39;VEL&#39;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
        <span class="s1">&#39;ID&#39;</span> <span class="p">:</span> <span class="o">...</span>
    <span class="p">},</span>
    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="s1">&#39;Mpc/h&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="snapshot-wrap">
<h2><a class="toc-backref" href="#id25"><code class="docutils literal notranslate"><span class="pre">snapshot_wrap</span></code></a><a class="headerlink" href="#snapshot-wrap" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies whether or not to wrap out-of-bounds particles
around the periodic box when reading snapshots</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kc">False</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>All particles should have positions
<span class="math notranslate nohighlight">\(0 \leq x, y, z &lt; L_{\text{box}}\)</span>, with
<span class="math notranslate nohighlight">\(L_{\text{box}}\)</span> corresponding to the
<code class="docutils literal notranslate"><span class="pre">boxsize</span></code> <a class="reference internal" href="numerics.html#boxsize"><span class="std std-ref">parameter</span></a>.
During simulation, particles drifting out of the cubic
box is immediately wrapped around.</p>
<p>When reading particles from a snapshot, some particles
may be erroneously located outside of the box. If a
particle is positioned exactly on the upper boundary
<span class="math notranslate nohighlight">\(L_{\text{box}}\)</span>, this is silently wrapped back
to <span class="math notranslate nohighlight">\(0\)</span>. Positions beyond this as well as as
negative positions are counted as out-of-bounds.</p>
<p>If this parameter is set to <code class="docutils literal notranslate"><span class="pre">False</span></code> (the default), any
out-of-bounds particles found within a snapshot will
cause CO<em>N</em>CEPT to terminate with an error message.
Setting this parameter to <code class="docutils literal notranslate"><span class="pre">True</span></code>, all out-of-bounds
particles read from snapshots will be silently wrapped
around, placing them within the box.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Allow and correct for out-of-bounds particles read from
snapshots:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_wrap</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="select-particle-id">
<span id="id9"></span><h2><a class="toc-backref" href="#id26"><code class="docutils literal notranslate"><span class="pre">select_particle_id</span></code></a><a class="headerlink" href="#select-particle-id" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies components that should keep track of particle
IDs</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
specifying particle components that should make use of
particle IDs, i.e. unique integer labels, one for each
particle.</p>
<p>When a component using particle IDs are saved to a
snapshot, the IDs are saved as well.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When writing GADGET snapshots, IDs will be written
even for components that do not make use of paticle
IDs. In this case, some IDs are simply made up when
the snapshot is written. Thus, the IDs in GADGET
snapshots should not be relied upon in such cases.</p>
</div>
<p>When saving a GADGET snapshot, the data type used for
the IDs is determined by the <code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code>
<a class="reference internal" href="#gadget-snapshot-params"><span class="std std-ref">parameter</span></a>.</p>
<p>When saving a CO<em>N</em>CEPT snapshot, the data type used
for the IDs is automatically determined to be an
unsigned 8-, 16-, 32- or 64-bit integer.</p>
<p>When a component that should use particle IDs are loaded
from a CO<em>N</em>CEPT snapshot that does not contain such
IDs, new IDs are assigned.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use particle IDs for all particle components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_particle_id</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="class-plot-perturbations">
<span id="id10"></span><h2><a class="toc-backref" href="#id27"><code class="docutils literal notranslate"><span class="pre">class_plot_perturbations</span></code></a><a class="headerlink" href="#class-plot-perturbations" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies whether to plot CLASS perturbations used
within the CO<em>N</em>CEPT run</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kc">False</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>When enabled, all <a class="reference external" href="http://class-code.net/">CLASS</a>
perturbations used within the CO<em>N</em>CEPT run will be
plotted and saved to image files. This is primarily
intended for visual checks of convergence of CLASS
computations.</p>
<p>Two new directories will be created â both within the
specified power spectrum
<a class="reference internal" href="#output-dirs"><span class="std std-ref">output directory</span></a>
<code class="docutils literal notranslate"><span class="pre">output_dirs['powerspec']</span></code> â containing
subdirectories for the various perturbations. The two
directories are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">class_perturbations</span></code>: The plots within this
directory show the evolution of each of the computed
<span class="math notranslate nohighlight">\(k\)</span> modes through time <span class="math notranslate nohighlight">\(a\)</span>, for each type
of perturbation. The time axis is cut into regions,
within each of which the perturbations are
âdetrendedâ, meaning that a trend-line in the form of
a power law in <span class="math notranslate nohighlight">\(a\)</span> has been fitted and
subsequently subtracted. This detrending is done prior
to any spline interpolation, greatly increasing the
accuracy of interpolation.</p>
<p>Perturbations used only indirectly (e.g. if they enter
in a used gauge transformation) are plotted here
as well.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">class_perturbations_processed</span></code>: The plots within
this directory are of the final, processed
perturbations, as they are used by CO<em>N</em>CEPT
for e.g. initial condition generation. These are
plotted as functions of <span class="math notranslate nohighlight">\(k\)</span>, for various
<span class="math notranslate nohighlight">\(a\)</span>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature is primarily meant to be used with the
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Plot all CLASS perturbations used within the
CO<em>N</em>CEPT run:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">class_plot_perturbations</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="class-extra-background">
<span id="id11"></span><h2><a class="toc-backref" href="#id28"><code class="docutils literal notranslate"><span class="pre">class_extra_background</span></code></a><a class="headerlink" href="#class-extra-background" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies additional CLASS background quantities to
include as part of the CLASS data</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>Only a subset of the available
<a class="reference external" href="http://class-code.net/">CLASS</a> background quantities
are used by CO<em>N</em>CEPT, and so only these are
retrieved from CLASS computations. This also means that
only these specific background quantities end up in the
CLASS data stored on disk, be it the automatic CLASS
disk cache or the data files generated by the
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>.</p>
<p>To include extra CLASS background quantities â not
used by CO<em>N</em>CEPT â within these files, specify
them within the <code class="docutils literal notranslate"><span class="pre">class_extra_background</span></code> parameter.
You can refer to the extra quantities by their name as
defined by CLASS. In addition, the following easier
names are provided by CO<em>N</em>CEPT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Ï</span></code> or <code class="docutils literal notranslate"><span class="pre">tau</span></code>: The conformal time <span class="math notranslate nohighlight">\(\tau\)</span> (in
CLASS called <code class="docutils literal notranslate"><span class="pre">conf.</span> <span class="pre">time</span> <span class="pre">[Mpc]</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">D</span></code>: The linear growth factor <span class="math notranslate nohighlight">\(D\)</span> (in CLASS
called <code class="docutils literal notranslate"><span class="pre">gr.fac.</span> <span class="pre">D</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: The linear growth rate
<span class="math notranslate nohighlight">\(f \equiv \mathrm{d}\ln D / \mathrm{d}\ln a\)</span>
(in CLASS called <code class="docutils literal notranslate"><span class="pre">gr.fac.</span> <span class="pre">f</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">D2</span></code>: The second-order growth factor <span class="math notranslate nohighlight">\(D^{(2)}\)</span>
(in CLASS called <code class="docutils literal notranslate"><span class="pre">gr.fac.</span> <span class="pre">D2</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f2</span></code>: The second-order growth rate
<span class="math notranslate nohighlight">\(f^{(2)} \equiv \mathrm{d}\ln D^{(2)} / \mathrm{d}\ln a\)</span>
(in CLASS called <code class="docutils literal notranslate"><span class="pre">gr.fac.</span> <span class="pre">f2</span></code>).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When running the
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>, the
<code class="docutils literal notranslate"><span class="pre">class_extra_background</span></code> parameter is by default
set to</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;tau&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;D2&#39;</span><span class="p">,</span> <span class="s1">&#39;f2&#39;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Include the conformal time <span class="math notranslate nohighlight">\(\tau\)</span> among the
CLASS background quantities when dumping these to disk,
e.g. when running the CO<em>N</em>CEPT
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">class_extra_background</span> <span class="o">=</span> <span class="s1">&#39;Ï&#39;</span>
</pre></div>
</div>
<p>We can also refer to <span class="math notranslate nohighlight">\(\tau\)</span> using its CLASS name:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">class_extra_background</span> <span class="o">=</span> <span class="s1">&#39;conf. time [Mpc]&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Include the linear growth factor <span class="math notranslate nohighlight">\(D\)</span> and rate
<span class="math notranslate nohighlight">\(f\)</span> among the background quantities when dumping
these to disk, e.g. when running the CO<em>N</em>CEPT
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">class_extra_background</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="class-extra-perturbations">
<span id="id12"></span><h2><a class="toc-backref" href="#id29"><code class="docutils literal notranslate"><span class="pre">class_extra_perturbations</span></code></a><a class="headerlink" href="#class-extra-perturbations" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies additional CLASS perturbations to include as
part of the CLASS data</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">()</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>Only a subset of the available
<a class="reference external" href="http://class-code.net/">CLASS</a> perturbations are
used by CO<em>N</em>CEPT, and so only these are retrieved
from CLASS computations. This also means that only these
specific perturbations end up in the CLASS data stored
on disk, be it the automatic CLASS disk cache or the
data files generated by the
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>.</p>
<p>To include extra CLASS perturbations â not used by
CO<em>N</em>CEPT â within these files, specify them
within the <code class="docutils literal notranslate"><span class="pre">class_extra_perturbation</span></code> parameter. You
can refer to the extra quantities by their name as
defined by CLASS. In addition, the following fancy
names are provided by CO<em>N</em>CEPT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Î¸_tot</span></code>: The total velocity divergence
<span class="math notranslate nohighlight">\(\theta_{\text{tot}}\)</span> from all species (in CLASS
called <code class="docutils literal notranslate"><span class="pre">theta_tot</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Ï</span></code>: The spatial metric perturbation <span class="math notranslate nohighlight">\(\phi\)</span> in
conformal Newtonian gauge (in CLASS called <code class="docutils literal notranslate"><span class="pre">phi</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Ï</span></code>: The temporal metric perturbation <span class="math notranslate nohighlight">\(\psi\)</span>
in conformal Newtonian gauge (in CLASS called <code class="docutils literal notranslate"><span class="pre">psi</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hÊ¹</span></code>: The conformal time derivative of the trace of
the spatial metric perturbation in synchronous gauge,
<span class="math notranslate nohighlight">\(\partial_{\tau} h\)</span> (in CLASS called
<code class="docutils literal notranslate"><span class="pre">h_prime</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">H_TÊ¹</span></code>: The conformal time derivative of the
trace-free component of the spatial metric in <em>N</em>-body
gauge, <span class="math notranslate nohighlight">\(\partial_{\tau} H_{\text{T}}\)</span> (in CLASS
called <code class="docutils literal notranslate"><span class="pre">H_T_prime</span></code>).</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Include the two conformal Newtonian metric potentials
<span class="math notranslate nohighlight">\(\phi\)</span> and <span class="math notranslate nohighlight">\(\psi\)</span> among the CLASS
perturbations when dumping these to disk,
e.g. when running the CO<em>N</em>CEPT
<a class="reference internal" href="../utilities/class.html"><span class="doc">class utility</span></a>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">class_extra_perturbations</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Ï&#39;</span><span class="p">,</span> <span class="s1">&#39;Ï&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>We can also refer to these using their CLASS names:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">class_extra_background</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;phi&#39;</span><span class="p">,</span> <span class="s1">&#39;psi&#39;</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="parameters.html" class="btn btn-neutral float-left" title="Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="numerics.html" class="btn btn-neutral float-right" title="Numerics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>