<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Physics &mdash; CONCEPT Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://jmd-dk.github.io/concept/parameters/physics.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simulation" href="simulation.html" />
    <link rel="prev" title="Cosmology" href="cosmology.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CO<em>N</em>CEPT
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/installation.html">1. Effortless installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/first_simulations.html">2. Your first simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/parameter_files.html">3. Working with parameter files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gravity.html">4. Mastering gravity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/gravity.html#the-pm-method">4.1. The PM method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/gravity.html#the-p3m-method">4.2. The P¬≥M method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/output_types.html">5. Other kinds of output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#bispectra">5.1. Bispectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#d-renders">5.2. 3D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#id1">5.3. 2D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#snapshots">5.4. Snapshots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/working_remotely.html">6. Working on remote clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/beyond_matter_only.html">7. Beyond matter-only simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#radiation">7.1. Radiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#massive-neutrinos">7.2. Massive neutrinos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#dynamical-dark-energy">7.3. Dynamical dark energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#decaying-cold-dark-matter">7.4. Decaying cold dark matter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#non-linear-massive-neutrinos">7.5. Non-linear massive neutrinos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/bispectra.html">8. Bispectra and 2LPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gadget.html">9. Comparison with GADGET-2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#supported-platforms">Supported platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#standard-installation">Standard installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#optimal-network-performance-on-clusters">Optimal network performance on clusters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#cloning-with-git">Cloning with Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-install-script-in-depth">The <code class="docutils literal notranslate"><span class="pre">install</span></code> script in-depth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#programs-installed">Programs installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#command-line-options">Command-line options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#influential-environment-variables">Influential environment variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#making-use-of-pre-installed-libraries">Making use of pre-installed libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-versions">Specifying dependency versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-urls">Specifying dependency URLs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#choosing-compiler-precedence">Choosing compiler precedence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#installing-mpich-or-openmpi">Installing MPICH or OpenMPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#parallel-builds">Parallel builds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#using-the-install-script-to-install-specific-libraries-but-not-concept-itself">Using the <code class="docutils literal notranslate"><span class="pre">install</span></code> script to install specific libraries but not CO<em>N</em>CEPT itself</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#python-dependencies">Python dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#other-primary-dependencies">Other primary dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#system-dependencies">System dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-path-and-env-files">The <code class="docutils literal notranslate"><span class="pre">.path</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-path-file">The <code class="docutils literal notranslate"><span class="pre">.path</span></code> file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-env-file">The <code class="docutils literal notranslate"><span class="pre">.env</span></code> file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#path-like-environment-variables"><code class="docutils literal notranslate"><span class="pre">PATH</span></code>-like environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#eliminating-interference-from-foreign-python-installations">Eliminating interference from foreign Python installations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-mpi-executor">The <code class="docutils literal notranslate"><span class="pre">mpi_executor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-make-jobs-environment-variable">The <code class="docutils literal notranslate"><span class="pre">make_jobs</span></code> environment variable</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command_line_options.html">Command-line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#basics">Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#help-h-help">Help: <code class="docutils literal notranslate"><span class="pre">-h</span></code>, <code class="docutils literal notranslate"><span class="pre">--help</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#parameter-file-p-param">Parameter file: <code class="docutils literal notranslate"><span class="pre">-p</span></code>, <code class="docutils literal notranslate"><span class="pre">--param</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#command-line-parameters-c-command-line-params">Command-line parameters: <code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">--command-line-params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#number-of-processes-n-nprocs">Number of processes: <code class="docutils literal notranslate"><span class="pre">-n</span></code>, <code class="docutils literal notranslate"><span class="pre">--nprocs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../command_line_options.html#specifying-multiple-nodes">Specifying multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#utility-u-utility">Utility: <code class="docutils literal notranslate"><span class="pre">-u</span></code>, <code class="docutils literal notranslate"><span class="pre">--utility</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#remote-job-submission">Remote job submission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#queue-q-queue">Queue: <code class="docutils literal notranslate"><span class="pre">-q</span></code>, <code class="docutils literal notranslate"><span class="pre">--queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#wall-time-w-walltime">Wall time: <code class="docutils literal notranslate"><span class="pre">-w</span></code>, <code class="docutils literal notranslate"><span class="pre">--walltime</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#memory-memory">Memory: <code class="docutils literal notranslate"><span class="pre">--memory</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-name-job-name">Job name: <code class="docutils literal notranslate"><span class="pre">--job-name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-directive-j-job-directive">Job directive: <code class="docutils literal notranslate"><span class="pre">-j</span></code>, <code class="docutils literal notranslate"><span class="pre">--job-directive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#watch-watch">Watch: <code class="docutils literal notranslate"><span class="pre">--watch</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#building-and-running">Building and running</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#local-local">Local: <code class="docutils literal notranslate"><span class="pre">--local</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#pure-python-pure-python">Pure Python: <code class="docutils literal notranslate"><span class="pre">--pure-python</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#build-b-build">Build: <code class="docutils literal notranslate"><span class="pre">-b</span></code>, <code class="docutils literal notranslate"><span class="pre">--build</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#rebuild-rebuild">Rebuild: <code class="docutils literal notranslate"><span class="pre">--rebuild</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#optimizations-optimizations">Optimizations: <code class="docutils literal notranslate"><span class="pre">--optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#link-time-optimizations-linktime-optimizations">Link time optimizations: <code class="docutils literal notranslate"><span class="pre">--linktime-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#native-optimizations-native-optimizations">Native optimizations: <code class="docutils literal notranslate"><span class="pre">--native-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#safe-build-safe-build">Safe build: <code class="docutils literal notranslate"><span class="pre">--safe-build</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#specials">Specials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#test-t-tests">Test: <code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">--tests</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#main-entry-point-m-main">Main entry point: <code class="docutils literal notranslate"><span class="pre">-m</span></code>, <code class="docutils literal notranslate"><span class="pre">--main</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#interactive-i-interactive">Interactive: <code class="docutils literal notranslate"><span class="pre">-i</span></code>, <code class="docutils literal notranslate"><span class="pre">--interactive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#version-v-version">Version: <code class="docutils literal notranslate"><span class="pre">-v</span></code>, <code class="docutils literal notranslate"><span class="pre">--version</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="parameters.html">Parameters</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="input_output.html">Input/output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#initial-conditions"><code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#output-dirs"><code class="docutils literal notranslate"><span class="pre">output_dirs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#output-bases"><code class="docutils literal notranslate"><span class="pre">output_bases</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#output-times"><code class="docutils literal notranslate"><span class="pre">output_times</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#autosave-interval"><code class="docutils literal notranslate"><span class="pre">autosave_interval</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#snapshot-select"><code class="docutils literal notranslate"><span class="pre">snapshot_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#powerspec-select"><code class="docutils literal notranslate"><span class="pre">powerspec_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#bispec-select"><code class="docutils literal notranslate"><span class="pre">bispec_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#render2d-select"><code class="docutils literal notranslate"><span class="pre">render2D_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#render3d-select"><code class="docutils literal notranslate"><span class="pre">render3D_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#snapshot-type"><code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#gadget-snapshot-params"><code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#snapshot-wrap"><code class="docutils literal notranslate"><span class="pre">snapshot_wrap</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#select-particle-id"><code class="docutils literal notranslate"><span class="pre">select_particle_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#class-plot-perturbations"><code class="docutils literal notranslate"><span class="pre">class_plot_perturbations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#class-extra-background"><code class="docutils literal notranslate"><span class="pre">class_extra_background</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#class-extra-perturbations"><code class="docutils literal notranslate"><span class="pre">class_extra_perturbations</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerics.html">Numerics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#boxsize"><code class="docutils literal notranslate"><span class="pre">boxsize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#potential-options"><code class="docutils literal notranslate"><span class="pre">potential_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#shortrange-params"><code class="docutils literal notranslate"><span class="pre">shortrange_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#powerspec-options"><code class="docutils literal notranslate"><span class="pre">powerspec_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#bispec-options"><code class="docutils literal notranslate"><span class="pre">bispec_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#bispec-antialiasing"><code class="docutils literal notranslate"><span class="pre">bispec_antialiasing</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#class-dedicated-spectra"><code class="docutils literal notranslate"><span class="pre">class_dedicated_spectra</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#class-modes-per-decade"><code class="docutils literal notranslate"><span class="pre">class_modes_per_decade</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cosmology.html">Cosmology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#h0"><code class="docutils literal notranslate"><span class="pre">H0</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#b"><code class="docutils literal notranslate"><span class="pre">Œ©b</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#cdm"><code class="docutils literal notranslate"><span class="pre">Œ©cdm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#a-begin"><code class="docutils literal notranslate"><span class="pre">a_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#t-begin"><code class="docutils literal notranslate"><span class="pre">t_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#primordial-spectrum"><code class="docutils literal notranslate"><span class="pre">primordial_spectrum</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#class-params"><code class="docutils literal notranslate"><span class="pre">class_params</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Physics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#select-forces"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-species"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#realization-options"><code class="docutils literal notranslate"><span class="pre">realization_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-lives"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#softening-kernel"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-softening-length"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simulation.html">Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-base-background-factor"><code class="docutils literal notranslate"><span class="pre">Œît_base_background_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-base-nonlinear-factor"><code class="docutils literal notranslate"><span class="pre">Œît_base_nonlinear_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-increase-max-factor"><code class="docutils literal notranslate"><span class="pre">Œît_increase_max_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-rung-factor"><code class="docutils literal notranslate"><span class="pre">Œît_rung_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#a-max-early"><code class="docutils literal notranslate"><span class="pre">Œîa_max_early</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#a-max-late"><code class="docutils literal notranslate"><span class="pre">Œîa_max_late</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#static-timestepping"><code class="docutils literal notranslate"><span class="pre">static_timestepping</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#n-rungs"><code class="docutils literal notranslate"><span class="pre">N_rungs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-rigor"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_rigor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-reuse"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_reuse</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-share"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_share</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#random-seeds"><code class="docutils literal notranslate"><span class="pre">random_seeds</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#primordial-amplitude-fixed"><code class="docutils literal notranslate"><span class="pre">primordial_amplitude_fixed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#primordial-phase-shift"><code class="docutils literal notranslate"><span class="pre">primordial_phase_shift</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#cell-centered"><code class="docutils literal notranslate"><span class="pre">cell_centered</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#class-k-max"><code class="docutils literal notranslate"><span class="pre">class_k_max</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#class-reuse"><code class="docutils literal notranslate"><span class="pre">class_reuse</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="graphics.html">Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#terminal-width"><code class="docutils literal notranslate"><span class="pre">terminal_width</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#enable-terminal-formatting"><code class="docutils literal notranslate"><span class="pre">enable_terminal_formatting</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render2d-options"><code class="docutils literal notranslate"><span class="pre">render2D_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render3d-options"><code class="docutils literal notranslate"><span class="pre">render3D_options</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="units.html">Units</a><ul>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-length"><code class="docutils literal notranslate"><span class="pre">unit_length</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-time"><code class="docutils literal notranslate"><span class="pre">unit_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-mass"><code class="docutils literal notranslate"><span class="pre">unit_mass</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#print-load-imbalance"><code class="docutils literal notranslate"><span class="pre">print_load_imbalance</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#particle-reordering"><code class="docutils literal notranslate"><span class="pre">particle_reordering</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#enable-hubble"><code class="docutils literal notranslate"><span class="pre">enable_Hubble</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#enable-class-background"><code class="docutils literal notranslate"><span class="pre">enable_class_background</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utilities/class.html">class utility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#basic-usage">Basic usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#command-line-options">Command-line options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#help-h-help">Help: <code class="docutils literal notranslate"><span class="pre">-h</span></code>, <code class="docutils literal notranslate"><span class="pre">--help</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#minimum-fourier-mode-kmin">Minimum Fourier mode: <code class="docutils literal notranslate"><span class="pre">--kmin</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#maximum-fourier-mode-kmax">Maximum Fourier mode: <code class="docutils literal notranslate"><span class="pre">--kmax</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#fourier-modes-modes">Fourier modes: <code class="docutils literal notranslate"><span class="pre">--modes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#times-times">Times: <code class="docutils literal notranslate"><span class="pre">--times</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#gauge-gauge">Gauge: <code class="docutils literal notranslate"><span class="pre">--gauge</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#file-contents">File contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#data-layout">Data layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#extra-output">Extra output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utilities/class.html#units">Units</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#complete-example-massive-neutrinos">Complete example (massive neutrinos)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#running-through-docker">Running through Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utilities/class.html#tips-and-tricks">Tips and tricks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/convert.html">convert utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/gadget.html">gadget utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/info.html">info utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/play.html">play utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/powerspec.html">powerspec utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/bispec.html">bispec utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/render3D.html">render3D utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/update.html">update utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/watch.html">watch utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#installation-failed">Installation failed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#compilation-failed">Compilation failed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#insufficient-memory">Insufficient memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#dangerous-optimizations">Dangerous optimizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#terminal-colour-output-looks-weird">Terminal colour output looks weird</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-related-to-python-libraries-and-packages">Problems related to Python libraries and packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#error-messages-containing-read-1">Error messages containing ‚ÄòRead -1‚Äô</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#clock-skew-and-or-modification-times-in-the-future">Clock skew and/or modification times in the future</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#mixed-compiled-and-pure-python-mode">Mixed compiled and pure Python mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#the-simulation-hangs-when-calling-class">The simulation hangs when calling CLASS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#crashes-or-other-bad-behaviour">Crashes or other bad behaviour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-running-remotely">Problems when running remotely</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#choosing-an-mpi-executor">Choosing an MPI executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#different-hardware-architecture-on-front-end-and-remote-node">Different hardware architecture on front-end and remote node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#it-still-does-not-work">It <em>still</em> does not work!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#bad-performance-when-using-multiple-processes-nodes">Bad performance when using multiple processes/nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-using-multiple-nodes">Problems when using multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../publications.html#theses">Theses</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CO<em>N</em>CEPT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="parameters.html">Parameters</a></li>
      <li class="breadcrumb-item active">Physics</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/jmd-dk/concept/" class="fa fa-github"> Code Repository</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="cosmology.html" class="btn btn-neutral float-left" title="Cosmology" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simulation.html" class="btn btn-neutral float-right" title="Simulation" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="physics">
<h1>Physics<a class="headerlink" href="#physics" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>The ‚Äòphysics‚Äô parameter category contains parameters specifying various
physical models and schemes to be used.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#select-forces" id="id6"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-species" id="id7"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a></p></li>
<li><p><a class="reference internal" href="#realization-options" id="id8"><code class="docutils literal notranslate"><span class="pre">realization_options</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-lives" id="id9"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a></p></li>
<li><p><a class="reference internal" href="#softening-kernel" id="id10"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-softening-length" id="id11"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a></p></li>
</ul>
</nav>
<hr class="docutils" />
<section id="select-forces">
<span id="id1"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a><a class="headerlink" href="#select-forces" title="Permalink to this heading">ÔÉÅ</a></h2>
<table>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies which forces to enable</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{}</span>  <span class="c1"># no forces enabled</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code>, mapping components to sub-<code class="docutils literal notranslate"><span class="pre">dict</span></code>s of the
form</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">force</span><span class="p">:</span> <span class="n">method</span><span class="p">}</span>
</pre></div>
</div>
<p>specifying which forces/interactions affect the given
component, as well as what method/implementation to use
for the given forces. Currently, the only forces in
CO<em>N</em>CEPT are <code class="docutils literal notranslate"><span class="pre">'gravity'</span></code> and <code class="docutils literal notranslate"><span class="pre">'lapse'</span></code>, with the
latter having to do with gravitational
<a class="reference internal" href="../tutorial/beyond_matter_only.html#decaying-cold-dark-matter"><span class="std std-ref">time dilation</span></a>. The
implemented methods for the forces are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'gravity'</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'pp'</span></code> (PP, particle-particle)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'pm'</span></code> (PM, particle-mesh)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'p3m'</span></code> (P¬≥M, particle-particle-mesh)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lapse'</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'pm'</span></code> (PM, particle-mesh)</p></li>
</ul>
</li>
</ul>
<p>For details on these methods, consult the paper on
‚Äò<a class="reference internal" href="../publications.html#the-cosmological-simulation-code-concept-10"><span class="std std-ref">The cosmological simulation code COùòïCEPT 1.0</span></a>‚Äô.
As <code class="docutils literal notranslate"><span class="pre">select_forces</span></code> is empty by default, no forces (not
even gravity) are enabled. If however a global potential
grid size is specified within the <code class="docutils literal notranslate"><span class="pre">potential_options</span></code>
<a class="reference internal" href="numerics.html#potential-options"><span class="std std-ref">parameter</span></a>, this places the
following default entries within <code class="docutils literal notranslate"><span class="pre">select_forces</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;p3m&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;fluid&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;pm&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>so that particle components will participate in the
gravitational interaction using P¬≥M, while fluid
components will participate in the gravitational
interaction using PM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All interactions for fluid components may only ever
use the PM method</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With the gravitational force specified for particle
and fluid components as above, gravity will really be
applied to such components in the following manner:</p>
<ul>
<li><p>Gravity applied to particle components:</p>
<blockquote>
<div><ul>
<li><p>From particle components:</p>
<blockquote>
<div><ul class="simple">
<li><p>P¬≥M (long-range)</p></li>
<li><p>P¬≥M (short-range)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>From fluid components:</p>
<blockquote>
<div><ul class="simple">
<li><p>PM</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Gravity applied to fluid components:</p>
<blockquote>
<div><ul>
<li><p>From particle and fluid components:</p>
<blockquote>
<div><ul class="simple">
<li><p>PM</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Besides P¬≥M being split up into a long-range and a
short-range part, we see that the interactions
between particle and fluid components make use of
PM, even though PM is only selected for the fluid
components.</p>
</div>
<p>For more information on these
mesh-based methods, see the <code class="docutils literal notranslate"><span class="pre">potential_options</span></code>
<a class="reference internal" href="numerics.html#potential-options"><span class="std std-ref">parameter</span></a>. For a more casual
walk-through of how to specify forces and methods within
CO<em>N</em>CEPT, see the
<a class="reference internal" href="../tutorial/gravity.html"><span class="doc">tutorial</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Explicitly specify the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'matter</span></code> to be under the influence of gravity, using
the P¬≥M method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;p3m&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As P¬≥M is the default gravitational method, we can
shorten this to</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="s1">&#39;gravity&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As mentioned above, this can be shortened further by
simply removing any mention of <code class="docutils literal notranslate"><span class="pre">select_forces</span></code> from
the parameter file, provided that a global grid size is
set within the <code class="docutils literal notranslate"><span class="pre">potential_options</span></code>
<a class="reference internal" href="numerics.html#potential-options"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Explicitly specify the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'matter</span></code> to be under the influence of gravity, using
the PM method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;pm&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="select-species">
<span id="id2"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a><a class="headerlink" href="#select-species" title="Permalink to this heading">ÔÉÅ</a></h2>
<table>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the species of components read in from snapshots</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code> for mapping components to species. While the
<code class="docutils literal notranslate"><span class="pre">'species'</span></code> of a component is explicitly specified in
the <code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code>
<a class="reference internal" href="input_output.html#initial-conditions"><span class="std std-ref">parameter</span></a>, no species are
necessarily defined for components read in from
snapshots. For components within snapshots of the
<code class="docutils literal notranslate"><span class="pre">'concept'</span></code> <a class="reference internal" href="input_output.html#snapshot-type"><span class="std std-ref">type</span></a>, their species
are explicitly included within the snapshots. For
components read from <code class="docutils literal notranslate"><span class="pre">'gadget'</span></code>
<a class="reference internal" href="input_output.html#snapshot-type"><span class="std std-ref">type</span></a> snapshots, their GADGET
particle type (see table 3 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>)
is known, but this needs to be mapped to a species in
CO<em>N</em>CEPT. This is what this parameter is for.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though a species is explicitly defined for each
component within a <code class="docutils literal notranslate"><span class="pre">'concept'</span></code> snapshot, the species
to use within a simulation may be overruled by
setting this parameter</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Explicitly map the GADGET particle type 1 (<code class="docutils literal notranslate"><span class="pre">halo</span></code>) to
correspond to the <code class="docutils literal notranslate"><span class="pre">'matter'</span></code> species within
CO<em>N</em>CEPT:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_species</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;GADGET halo&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name <code class="docutils literal notranslate"><span class="pre">'GADGET</span> <span class="pre">halo'</span></code> will automatically be
assigned to the component containing the particles of
type 1. See table 3 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>
for other names.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Map the GADGET particle type 2 (<code class="docutils literal notranslate"><span class="pre">disk</span></code>) to the
<code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> species within CO<em>N</em>CEPT, while
mapping everything else to <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_species</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;GADGET disk&#39;</span><span class="p">:</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">,</span>
    <span class="s1">&#39;all&#39;</span>        <span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="realization-options">
<span id="id3"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">realization_options</span></code></a><a class="headerlink" href="#realization-options" title="Permalink to this heading">ÔÉÅ</a></h2>
<table>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies how to realise different components</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;gauge&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;N-body&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;back-scale&#39;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;LPT&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;non-Gaussianity&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;structure&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;non-linear&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;compound&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;linear&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> of several individual sub-parameters,
specifying how individual components are to be
<em>realised</em>. All sub-parameters are themselves
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selections</span></a>.
A realisation refers to the generation of
initial conditions ‚Äî i.e. particle positions and
momenta for particle components and fluid grids like
energy and momentum densities for fluid components ‚Äî
but also late-time re-realisation of fluid grids for
fluid components.</p>
<p>Each sub-parameter is described below:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'gauge'</span></code>: Sets the general relativistic gauge in
which to perform the realisation, i.e. the gauge of
the transfer functions <span class="math notranslate nohighlight">\(T(a, k)\)</span> to use.
Available gauges are <code class="docutils literal notranslate"><span class="pre">'N-body'</span></code>
(<span class="math notranslate nohighlight">\(N\)</span>-body gauge), <code class="docutils literal notranslate"><span class="pre">'synchronous'</span></code>
(synchronous gauge) or <code class="docutils literal notranslate"><span class="pre">'Newtonian'</span></code> (conformal
Newtonian / longitudinal gauge).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'back-scale'</span></code>: Specifies whether to do particle
realisation using a back-scaled density transfer
function, rather than using the transfer function
as is. That is, without back-scaling, the raw density
transfer function <span class="math notranslate nohighlight">\(T_\delta(a, k)\)</span> is used
for realisation at time (scale factor value) <span class="math notranslate nohighlight">\(a\)</span>
of particle positions, and similarly the raw velocity
transfer function <span class="math notranslate nohighlight">\(T_\theta(a, k)\)</span> is used for
the particle velocities. With back-scaling, the
density transfer function is substituted by a
scaled-back version of itself at time <span class="math notranslate nohighlight">\(a = 1\)</span>:</p>
<div class="math notranslate nohighlight">
\[T_\delta(a, k) \rightarrow \frac{D(a)}{D(a=1)} T_\delta(a=1, k)\,,\]</div>
<p>where <span class="math notranslate nohighlight">\(D(a)\)</span> is the linear, Newtonian growth
factor. Also, the velocity transfer function
<span class="math notranslate nohighlight">\(T_\theta(a, k)\)</span> is no longer used at all,
but replaced with a Newtonian approximation</p>
<div class="math notranslate nohighlight">
\[T_\theta(a, k) \rightarrow -aH(a)f(a) \biggl(\frac{D(a)}{D(a=1)} T_\delta(a=1, k) \biggr)\,,\]</div>
<p>where
<span class="math notranslate nohighlight">\(f(a) \equiv \mathrm{d}\ln D(a) / \mathrm{d}\ln a\)</span>
is the linear, Newtonian growth rate. Back-scaling is
only possible for particle components.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'LPT'</span></code>: Specifies the order of Lagrangian
perturbation theory to use when realising particle
components. Orders <span class="math notranslate nohighlight">\(1\)</span> and <span class="math notranslate nohighlight">\(2\)</span> are
available. While the first order (1LPT) is carried out
relativistically (if not using back-scaling), the
second-order (2LPT) contributions are always
constructed in a Newtonian fashion (though they are
build from the (relativistic) 1LPT results).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'non-Gaussianity'</span></code>: Sets the amount of local
non-Gaussianity to include in realisations. This is
simply the number <span class="math notranslate nohighlight">\(f_{\text{NL}}\)</span> in the
transformation</p>
<div class="math notranslate nohighlight">
\[\delta(\boldsymbol{x}) \rightarrow \delta(\boldsymbol{x}) + f_{\text{NL}}\delta^2(\boldsymbol{x})\,,\]</div>
<p>where the <span class="math notranslate nohighlight">\(\delta^2(\boldsymbol{x})\)</span> term
introduces local non-Gaussianity into the otherwise
Gaussian density contrast field
<span class="math notranslate nohighlight">\(\delta(\boldsymbol{x})\)</span>.</p>
<p>For fluid components, only <span class="math notranslate nohighlight">\(\delta\)</span> (the energy
density) will be affected. For particle components,
both the positions and velocities are affected, with
the non-Gaussian velocity contribution obtained from
<span class="math notranslate nohighlight">\(f_{\text{NL}}\delta^2(\boldsymbol{x})\)</span> using
<span class="math notranslate nohighlight">\(aH(a)f(a)\)</span> as a conversion factor, similar to
how the velocities are obtained when using
back-scaling (see above).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'structure'</span></code>: Specifies the underlying 3D structure
to use for a realisation. This can be either the
primordial noise (<code class="docutils literal notranslate"><span class="pre">'primordial'</span></code>)
<span class="math notranslate nohighlight">\(\zeta(k)\mathcal{R}(\boldsymbol{k})\)</span>
(<a class="reference internal" href="simulation.html#random-seeds"><span class="std std-ref">random noise</span></a>
<span class="math notranslate nohighlight">\(\mathcal{R}(\boldsymbol{k})\)</span> with
<a class="reference internal" href="cosmology.html#primordial-spectrum"><span class="std std-ref">amplitude</span></a>
<span class="math notranslate nohighlight">\(\zeta(k)\)</span>) or the structure extracted from the
non-linearly evolved energy density of the component
(<code class="docutils literal notranslate"><span class="pre">'non-linear'</span></code>), i.e.
<span class="math notranslate nohighlight">\(\delta(a, \boldsymbol{k})/T_\delta(a, k)\)</span>.
Realisation happening at the initial time of the
simulation (i.e. initial condition generation) will
always make use of the primordial noise, though at
this time the two options are mathematically
equivalent. As late-time realisation is not possible
for particle components, this realisation option only
affects fluid components.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'compound'</span></code>: When performing late-time realisations
for fluid components using the non-linearly evolved
energy density as the source of structure, some fluid
variables can be defined in several ways. Consider
the (conserved) shear stress fluid variable
<span class="math notranslate nohighlight">\(\varsigma^i_j(a, \boldsymbol{x})\)</span>,
realised through</p>
<div class="math notranslate nohighlight">
\[\varsigma^i_j(a, \boldsymbol{x}) = \bigl(\varrho + c^{-2}\mathcal{P}\bigr)\sigma^i_j(a, \boldsymbol{x})\,,\]</div>
<p>with <span class="math notranslate nohighlight">\(\sigma^i_j(a, \boldsymbol{x})\)</span> itself
realised from the scalar anisotropic stress. With the
<code class="docutils literal notranslate"><span class="pre">'compound'</span></code> realisation option set to <code class="docutils literal notranslate"><span class="pre">'linear'</span></code>,
the (conserved) energy density and pressure in the
parenthesis above will be evaluated at the background
level,
<span class="math notranslate nohighlight">\(\varrho + c^{-2}\mathcal{P} \rightarrow (1 + w)\bar{\varrho}(a)\)</span>.
With the <code class="docutils literal notranslate"><span class="pre">'compound'</span></code> realisation option set to
<code class="docutils literal notranslate"><span class="pre">'non-linear'</span></code>, the full non-linearly evolved fluid
grids are used,
<span class="math notranslate nohighlight">\(\varrho + c^{-2}\mathcal{P} \rightarrow \varrho(a, \boldsymbol{x}) + c^{-2}\mathcal{P}(a, \boldsymbol{x})\)</span>.
Using the non-linear option injects additional
non-linearity into the realised fluid variable,
which can be desirable. See the paper on
‚Äò<a class="reference internal" href="../publications.html#nuconcept-cosmological-neutrino-simulations-from-the-nonlinear-boltzmann-hierarchy"><span class="std std-ref">ŒΩCOùòïCEPT: Cosmological neutrino simulations from the non-linear Boltzmann hierarchy</span></a>‚Äô
for further details.</p>
</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Do all realisations in synchronous gauge. Also, use
back-scaling when realising components with a
name/species of <code class="docutils literal notranslate"><span class="pre">'matter</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">realization_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;gauge&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="s1">&#39;synchronous&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;back-scaling&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using back-scaling, the <span class="math notranslate nohighlight">\(\delta\)</span> transfer
function is used not only for the particle positions
but also for the velocities. This is crucial when
using the synchronous gauge, as the velocity transfer
function in this gauge is not well suited for
<span class="math notranslate nohighlight">\(N\)</span>-body initial conditions.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Make use of second-order Lagrangian perturbation
theory (2LPT) when realising particle components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">realization_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;LPT&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As the <code class="docutils literal notranslate"><span class="pre">'LPT'</span></code> specification only applies to particle
components anyway, we can also do</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">realization_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;LPT&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>which can be more succinctly expressed as</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">realization_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;LPT&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 2</strong></p></td>
<td><p></p></td>
<td><p>Always perform realisations using the primordial noise
as the underlying source of structure, regardless of the
time of realisation:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">realization_options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;structure&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="s1">&#39;primordial&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="select-lives">
<h2><a class="toc-backref" href="#id9" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a><a class="headerlink" href="#select-lives" title="Permalink to this heading">ÔÉÅ</a></h2>
<table>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies life spans of components</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">·Äë</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code>, specifying the <em>life span</em> of individual
components. Here, a life span is a 2-tuple in the format</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">a_activate</span><span class="p">,</span> <span class="n">a_terminate</span><span class="p">)</span>
</pre></div>
</div>
<p>specifying the values of the scale factor <span class="math notranslate nohighlight">\(a\)</span> at
which components should be <em>activated</em> and <em>terminated</em>,
respectively. Prior to its activation time, a given
component will not take part in the simulation. At the
activation time, it will then be realised and included
in the simulation. At termination time, the component
will be removed from the simulation, and it cannot be
reintroduced. The default specifications of this
parameter ensures that ‚Äî by default ‚Äî all components
are active from the beginning to the end of the
simulation.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Let the component with the name <code class="docutils literal notranslate"><span class="pre">'linear</span> <span class="pre">neutrino'</span></code>
participate actively in the simulation until
<span class="math notranslate nohighlight">\(a = 0.1\)</span>, at which point the component with the
name <code class="docutils literal notranslate"><span class="pre">'non-linear</span> <span class="pre">neutrino'</span></code> should take its place:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_lives</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;linear neutrino&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span>   <span class="mf">0.1</span><span class="p">),</span>
    <span class="s1">&#39;non-linear neutrino&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span>   <span class="n">·Äë</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Assuming the two components both represent the
<code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> species, but makes use of linear and
non-linear evolution, this then effectively sets
<span class="math notranslate nohighlight">\(a = 0.1\)</span> to be the time at which the neutrino
species should be treated non-linearly. This can spare
the simulation from a lot of unnecessary computation.
See the <a class="reference internal" href="../tutorial/beyond_matter_only.html#nonlinear-massive-neutrinos"><span class="std std-ref">tutorial</span></a>
for a similar example use case.</p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="softening-kernel">
<span id="id4"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a><a class="headerlink" href="#softening-kernel" title="Permalink to this heading">ÔÉÅ</a></h2>
<table>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>The kernel to use for particle softening</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;spline&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>For direct particle-particle forces (PP gravity,
short-range P¬≥M gravity), the force needs to be
<em>softened</em> at short distances in order to avoid
numerical problems with insufficient time resolution for
two-body encounters. See the paper on
‚Äò<a class="reference internal" href="../publications.html#the-cosmological-simulation-code-concept-10"><span class="std std-ref">The cosmological simulation code COùòïCEPT 1.0</span></a>‚Äô
for details. This parameter sets the type of softening
to use for all such forces and components. All softening
kernels may be described as a transformation on
<span class="math notranslate nohighlight">\(|\boldsymbol{x}|^{-3}\)</span> in the force</p>
<div class="math notranslate nohighlight">
\[\boldsymbol{f} \propto |\boldsymbol{x}|^{-3}\boldsymbol{x}\, .\]</div>
<p>The implemented softening kernels are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'none'</span></code>: Do not use any softening;</p>
<div class="math notranslate nohighlight">
\[|\boldsymbol{x}|^{-3} \rightarrow |\boldsymbol{x}|^{-3}\, .\]</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'plummer'</span></code>: Make use of the Plummer softening
kernel;</p>
<div class="math notranslate nohighlight">
\[|\boldsymbol{x}|^{-3} \rightarrow \bigl(|\boldsymbol{x}|^2 + \epsilon^2\bigr)^{-\frac{3}{2}}\, ,\]</div>
<p>with <span class="math notranslate nohighlight">\(\epsilon\)</span> the
<a class="reference internal" href="#select-softening-length"><span class="std std-ref">softening length</span></a>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'spline'</span></code>: Make use of the cubic spline softening
kernel, also used by e.g. GADGET;</p>
<div class="math notranslate nohighlight">
\[\begin{split}|\boldsymbol{x}|^{-3} \rightarrow \begin{cases}
    \displaystyle \frac{32}{\epsilon_{\text{B}}^3}\biggl( x_{\text{B}}^3 - \frac{6}{5}x_{\text{B}}^2 + \frac{1}{3} \biggr) &amp; \displaystyle x_{\text{B}} &lt; \frac{1}{2} \\
    \displaystyle \frac{32}{\epsilon_{\text{B}}^3}\biggl( -\frac{1}{3}x_{\text{B}}^3 + \frac{6}{5}x_{\text{B}}^2 - \frac{3}{2}x_{\text{B}} + \frac{2}{3} - \frac{1}{480}x_{\text{B}}^{-3} \biggr) &amp; \displaystyle \frac{1}{2} \leq x_{\text{B}} &lt; 1 \\
    \displaystyle |\boldsymbol{x}|^{-3} &amp; \displaystyle 1 \leq x_{\text{B}}\, ,
\end{cases}\end{split}\]</div>
<p>with
<span class="math notranslate nohighlight">\(x_{\text{B}} \equiv |\boldsymbol{x}|/\epsilon_{\text{B}}\)</span>
and <span class="math notranslate nohighlight">\(\epsilon_{\text{B}} = 2.8\epsilon\)</span>, with
<span class="math notranslate nohighlight">\(\epsilon\)</span> being the specified
‚ÄúPlummer-equivalent‚Äù
<a class="reference internal" href="#select-softening-length"><span class="std std-ref">softening length</span></a>.</p>
</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use simple Plummer softening:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">softening_kernel</span> <span class="o">=</span> <span class="s1">&#39;plummer&#39;</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</section>
<section id="select-softening-length">
<span id="id5"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a><a class="headerlink" href="#select-softening-length" title="Permalink to this heading">ÔÉÅ</a></h2>
<table>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies particle softening lengths</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;0.025*boxsize/cbrt(N)&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>Direct particle-particle forces are softened according
to the chosen
<a class="reference internal" href="#softening-kernel"><span class="std std-ref">softening kernel</span></a>. Regardless
of the chosen kernel, the associated length scale is
expressed in terms of the ‚ÄúPlummer-equivalent‚Äù softening
length <span class="math notranslate nohighlight">\(\epsilon\)</span>. This parameter is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code> specifying this <span class="math notranslate nohighlight">\(\epsilon\)</span> for the
particle components within the simulation (fluid
components have no need for softening).</p>
<p>The default value sets <span class="math notranslate nohighlight">\(\epsilon\)</span> to be
<span class="math notranslate nohighlight">\(2.5\,\%\)</span> of the mean inter-particle distance,
within each particle component separately. Here <code class="docutils literal notranslate"><span class="pre">'N'</span></code>
is dynamically substituted for the number of particles
<span class="math notranslate nohighlight">\(N\)</span> within the given component.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The specified softening lengths are always comoving</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use a softening length of <span class="math notranslate nohighlight">\(10\,\mathrm{kpc}/h\)</span> for
all components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_softening_length</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="o">*</span><span class="n">kpc</span><span class="o">/</span><span class="n">h</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Use a softening length of <span class="math notranslate nohighlight">\(1/10\,000\)</span> of the box
size for the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'cold</span> <span class="pre">dark</span> <span class="pre">matter'</span></code> and a softening length of
<span class="math notranslate nohighlight">\(2\,\%\)</span> of the mean inter-particle distance
(between particles of each given component) for all other
components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_softening_length</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;cold dark matter&#39;</span><span class="p">:</span> <span class="n">boxsize</span><span class="o">/</span><span class="mi">10_000</span><span class="p">,</span>
    <span class="s1">&#39;all&#39;</span>             <span class="p">:</span> <span class="s1">&#39;0.02*boxsize/cbrt(N)&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Parameters like <code class="docutils literal notranslate"><span class="pre">boxsize</span></code> may be used either
directly or referred to inside <code class="docutils literal notranslate"><span class="pre">str</span></code>s.
Component-specific attributes like <code class="docutils literal notranslate"><span class="pre">N</span></code> must be
specified within a <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
</div>
</td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cosmology.html" class="btn btn-neutral float-left" title="Cosmology" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simulation.html" class="btn btn-neutral float-right" title="Simulation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>