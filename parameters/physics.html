<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Physics &mdash; CONCEPT Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://jmd-dk.github.io/concept/parameters/physics.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simulation" href="simulation.html" />
    <link rel="prev" title="Cosmology" href="cosmology.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> CO<em>N</em>CEPT
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search documentation" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/installation.html">1. Effortless installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/first_simulations.html">2. Your first simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/parameter_files.html">3. Working with parameter files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gravity.html">4. Mastering gravity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/gravity.html#the-pm-method">4.1. The PM method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/gravity.html#the-p3m-method">4.2. The PÂ³M method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/output_types.html">5. Other kinds of output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#d-renders">5.1. 3D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#id1">5.2. 2D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/output_types.html#snapshots">5.3. Snapshots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/working_remotely.html">6. Working on remote clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/beyond_matter_only.html">7. Beyond matter-only simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#radiation">7.1. Radiation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#massive-neutrinos">7.2. Massive neutrinos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#dynamical-dark-energy">7.3. Dynamical dark energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#decaying-cold-dark-matter">7.4. Decaying cold dark matter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorial/beyond_matter_only.html#non-linear-massive-neutrinos">7.5. Non-linear massive neutrinos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/gadget.html">8. Comparison with GADGET-2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#supported-platforms">Supported platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#standard-installation">Standard installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#optimal-network-performance-on-clusters">Optimal network performance on clusters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#cloning-with-git">Cloning with Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-install-script-in-depth">The <code class="docutils literal notranslate"><span class="pre">install</span></code> script in-depth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#programs-installed">Programs installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#command-line-options">Command-line options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#influential-environment-variables">Influential environment variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#making-use-of-pre-installed-libraries">Making use of pre-installed libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-versions">Specifying dependency versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#specifying-dependency-urls">Specifying dependency URLs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#choosing-compiler-precedence">Choosing compiler precedence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#installing-mpich-or-openmpi">Installing MPICH or OpenMPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#parallel-builds">Parallel builds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#using-the-install-script-to-install-specific-libraries-but-not-concept-itself">Using the <code class="docutils literal notranslate"><span class="pre">install</span></code> script to install specific libraries but not CO<em>N</em>CEPT itself</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#python-dependencies">Python dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#other-primary-dependencies">Other primary dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#system-dependencies">System dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#the-path-and-env-files">The <code class="docutils literal notranslate"><span class="pre">.path</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-path-file">The <code class="docutils literal notranslate"><span class="pre">.path</span></code> file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#the-env-file">The <code class="docutils literal notranslate"><span class="pre">.env</span></code> file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#path-like-environment-variables"><code class="docutils literal notranslate"><span class="pre">PATH</span></code>-like environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#eliminating-interference-from-foreign-python-installations">Eliminating interference from foreign Python installations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-mpi-executor">The <code class="docutils literal notranslate"><span class="pre">mpi_executor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../installation.html#the-make-jobs-environment-variable">The <code class="docutils literal notranslate"><span class="pre">make_jobs</span></code> environment variable</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../command_line_options.html">Command-line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#basics">Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#help-h-help">Help: <code class="docutils literal notranslate"><span class="pre">-h</span></code>, <code class="docutils literal notranslate"><span class="pre">--help</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#parameter-file-p-params">Parameter file: <code class="docutils literal notranslate"><span class="pre">-p</span></code>, <code class="docutils literal notranslate"><span class="pre">--params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#command-line-parameters-c-command-line-params">Command-line parameters: <code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">--command-line-params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#number-of-processes-n-nprocs">Number of processes: <code class="docutils literal notranslate"><span class="pre">-n</span></code>, <code class="docutils literal notranslate"><span class="pre">--nprocs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../command_line_options.html#specifying-multiple-nodes">Specifying multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#utility-u-utility">Utility: <code class="docutils literal notranslate"><span class="pre">-u</span></code>, <code class="docutils literal notranslate"><span class="pre">--utility</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#remote-job-submission">Remote job submission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#queue-q-queue">Queue: <code class="docutils literal notranslate"><span class="pre">-q</span></code>, <code class="docutils literal notranslate"><span class="pre">--queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#wall-time-w-walltime">Wall time: <code class="docutils literal notranslate"><span class="pre">-w</span></code>, <code class="docutils literal notranslate"><span class="pre">--walltime</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#memory-memory">Memory: <code class="docutils literal notranslate"><span class="pre">--memory</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-name-job-name">Job name: <code class="docutils literal notranslate"><span class="pre">--job-name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#job-directive-j-job-directive">Job directive: <code class="docutils literal notranslate"><span class="pre">-j</span></code>, <code class="docutils literal notranslate"><span class="pre">--job-directive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-watching-no-watching">No watching: <code class="docutils literal notranslate"><span class="pre">--no-watching</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#other-modes-of-building-running">Other modes of building/running</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#local-local">Local: <code class="docutils literal notranslate"><span class="pre">--local</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#pure-python-pure-python">Pure Python: <code class="docutils literal notranslate"><span class="pre">--pure-python</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#build-b-build">Build: <code class="docutils literal notranslate"><span class="pre">-b</span></code>, <code class="docutils literal notranslate"><span class="pre">--build</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#rebuild-rebuild">Rebuild: <code class="docutils literal notranslate"><span class="pre">--rebuild</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#native-optimizations-native-optimizations">Native optimizations: <code class="docutils literal notranslate"><span class="pre">--native-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-link-time-optimizations-no-lto">No link time optimizations: <code class="docutils literal notranslate"><span class="pre">--no-lto</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#no-optimizations-no-optimizations">No optimizations: <code class="docutils literal notranslate"><span class="pre">--no-optimizations</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#unsafe-building-unsafe-building">Unsafe building: <code class="docutils literal notranslate"><span class="pre">--unsafe-building</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../command_line_options.html#specials">Specials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#test-t-tests">Test: <code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">--tests</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#main-entry-point-m-main">Main entry point: <code class="docutils literal notranslate"><span class="pre">-m</span></code>, <code class="docutils literal notranslate"><span class="pre">--main</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#interactive-i-interactive">Interactive: <code class="docutils literal notranslate"><span class="pre">-i</span></code>, <code class="docutils literal notranslate"><span class="pre">--interactive</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../command_line_options.html#version-v-version">Version: <code class="docutils literal notranslate"><span class="pre">-v</span></code>, <code class="docutils literal notranslate"><span class="pre">--version</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="parameters.html">Parameters</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="input_output.html">Input/output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#initial-conditions"><code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#output-dirs"><code class="docutils literal notranslate"><span class="pre">output_dirs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#output-bases"><code class="docutils literal notranslate"><span class="pre">output_bases</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#output-times"><code class="docutils literal notranslate"><span class="pre">output_times</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#autosave-interval"><code class="docutils literal notranslate"><span class="pre">autosave_interval</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#snapshot-select"><code class="docutils literal notranslate"><span class="pre">snapshot_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#powerspec-select"><code class="docutils literal notranslate"><span class="pre">powerspec_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#render2d-select"><code class="docutils literal notranslate"><span class="pre">render2D_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#render3d-select"><code class="docutils literal notranslate"><span class="pre">render3D_select</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#snapshot-type"><code class="docutils literal notranslate"><span class="pre">snapshot_type</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="input_output.html#gadget-snapshot-params"><code class="docutils literal notranslate"><span class="pre">gadget_snapshot_params</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerics.html">Numerics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#boxsize"><code class="docutils literal notranslate"><span class="pre">boxsize</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#potential-options"><code class="docutils literal notranslate"><span class="pre">potential_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#shortrange-params"><code class="docutils literal notranslate"><span class="pre">shortrange_params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#powerspec-options"><code class="docutils literal notranslate"><span class="pre">powerspec_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="numerics.html#k-modes-per-decade"><code class="docutils literal notranslate"><span class="pre">k_modes_per_decade</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cosmology.html">Cosmology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#h0"><code class="docutils literal notranslate"><span class="pre">H0</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#b"><code class="docutils literal notranslate"><span class="pre">Î©b</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#cdm"><code class="docutils literal notranslate"><span class="pre">Î©cdm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#a-begin"><code class="docutils literal notranslate"><span class="pre">a_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#t-begin"><code class="docutils literal notranslate"><span class="pre">t_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#primordial-spectrum"><code class="docutils literal notranslate"><span class="pre">primordial_spectrum</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cosmology.html#class-params"><code class="docutils literal notranslate"><span class="pre">class_params</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Physics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#select-forces"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-species"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-lives"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#softening-kernel"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-softening-length"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simulation.html">Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-base-background-factor"><code class="docutils literal notranslate"><span class="pre">Ît_base_background_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-base-nonlinear-factor"><code class="docutils literal notranslate"><span class="pre">Ît_base_nonlinear_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-increase-max-factor"><code class="docutils literal notranslate"><span class="pre">Ît_increase_max_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#t-rung-factor"><code class="docutils literal notranslate"><span class="pre">Ît_rung_factor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#a-max-early"><code class="docutils literal notranslate"><span class="pre">Îa_max_early</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#a-max-late"><code class="docutils literal notranslate"><span class="pre">Îa_max_late</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#n-rungs"><code class="docutils literal notranslate"><span class="pre">N_rungs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-rigor"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_rigor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-reuse"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_reuse</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#fftw-wisdom-share"><code class="docutils literal notranslate"><span class="pre">fftw_wisdom_share</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#random-seed"><code class="docutils literal notranslate"><span class="pre">random_seed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#primordial-amplitude-fixed"><code class="docutils literal notranslate"><span class="pre">primordial_amplitude_fixed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#primordial-phase-shift"><code class="docutils literal notranslate"><span class="pre">primordial_phase_shift</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#cell-centered"><code class="docutils literal notranslate"><span class="pre">cell_centered</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="simulation.html#class-reuse"><code class="docutils literal notranslate"><span class="pre">class_reuse</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="graphics.html">Graphics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#terminal-width"><code class="docutils literal notranslate"><span class="pre">terminal_width</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#enable-terminal-formatting"><code class="docutils literal notranslate"><span class="pre">enable_terminal_formatting</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render2d-options"><code class="docutils literal notranslate"><span class="pre">render2D_options</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render3d-colors"><code class="docutils literal notranslate"><span class="pre">render3D_colors</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render3d-bgcolor"><code class="docutils literal notranslate"><span class="pre">render3D_bgcolor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="graphics.html#render3d-resolution"><code class="docutils literal notranslate"><span class="pre">render3D_resolution</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="units.html">Units</a><ul>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-length"><code class="docutils literal notranslate"><span class="pre">unit_length</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-time"><code class="docutils literal notranslate"><span class="pre">unit_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="units.html#unit-mass"><code class="docutils literal notranslate"><span class="pre">unit_mass</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#print-load-imbalance"><code class="docutils literal notranslate"><span class="pre">print_load_imbalance</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#particle-reordering"><code class="docutils literal notranslate"><span class="pre">particle_reordering</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#enable-hubble"><code class="docutils literal notranslate"><span class="pre">enable_Hubble</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html#enable-class-background"><code class="docutils literal notranslate"><span class="pre">enable_class_background</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utilities/class.html">class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/convert.html">convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/gadget.html">gadget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/info.html">info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/play.html">play</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/powerspec.html">powerspec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/render3D.html">render3D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/update.html">update</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/watch.html">watch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#installation-failed">Installation failed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#compilation-failed">Compilation failed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#insufficient-memory">Insufficient memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#dangerous-optimizations">Dangerous optimizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#terminal-colour-output-looks-weird">Terminal colour output looks weird</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-related-to-python-libraries-and-packages">Problems related to Python libraries and packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#error-messages-containing-read-1">Error messages containing âRead -1â</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#clock-skew-and-or-modification-times-in-the-future">Clock skew and/or modification times in the future</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#mixed-compiled-and-pure-python-mode">Mixed compiled and pure Python mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#the-simulation-hangs-when-calling-class">The simulation hangs when calling CLASS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#crashes-or-other-bad-behaviour">Crashes or other bad behaviour</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-running-remotely">Problems when running remotely</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#choosing-an-mpi-executor">Choosing an MPI executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#different-hardware-architecture-on-front-end-and-remote-node">Different hardware architecture on front-end and remote node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting.html#it-still-does-not-work">It <em>still</em> does not work!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#bad-performance-when-using-multiple-processes-nodes">Bad performance when using multiple processes/nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html#problems-when-using-multiple-nodes">Problems when using multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../publications.html#theses">Theses</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CO<em>N</em>CEPT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="parameters.html">Parameters</a> &raquo;</li>
      <li>Physics</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/jmd-dk/concept/" class="fa fa-github"> Code Repository</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="cosmology.html" class="btn btn-neutral float-left" title="Cosmology" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simulation.html" class="btn btn-neutral float-right" title="Simulation" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="physics">
<h1>Physics<a class="headerlink" href="#physics" title="Permalink to this headline">ï</a></h1>
<p>The âphysicsâ parameter category contains parameters specifying various
physical models and schemes to be used.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#select-forces" id="id6"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-species" id="id7"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-lives" id="id8"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a></p></li>
<li><p><a class="reference internal" href="#softening-kernel" id="id9"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a></p></li>
<li><p><a class="reference internal" href="#select-softening-length" id="id10"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a></p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="select-forces">
<span id="id1"></span><h2><a class="toc-backref" href="#id6"><code class="docutils literal notranslate"><span class="pre">select_forces</span></code></a><a class="headerlink" href="#select-forces" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies which forces to enable</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{}</span>  <span class="c1"># no forces enabled</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code>, mapping components to sub-<code class="docutils literal notranslate"><span class="pre">dict</span></code>s of the
form</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">force</span><span class="p">:</span> <span class="n">method</span><span class="p">}</span>
</pre></div>
</div>
<p>specifying which forces/interactions affect the given
component, as well as what method/implementation to use
for the given forces. Currently, the only forces in
CO<em>N</em>CEPT are <code class="docutils literal notranslate"><span class="pre">'gravity'</span></code> and <code class="docutils literal notranslate"><span class="pre">'lapse'</span></code>, with the
latter having to do with gravitational
<a class="reference internal" href="../tutorial/beyond_matter_only.html#decaying-cold-dark-matter"><span class="std std-ref">time dilation</span></a>. The
implemented methods for the forces are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'gravity'</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'pp'</span></code> (PP, particle-particle)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'pm'</span></code> (PM, particle-mesh)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'p3m'</span></code> (PÂ³M, particle-particle-mesh)</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lapse'</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'pm'</span></code> (PM, particle-mesh)</p></li>
</ul>
</li>
</ul>
<p>For details on these methods, consult the paper on
â<a class="reference internal" href="../publications.html#the-cosmological-simulation-code-concept-10"><span class="std std-ref">The cosmological simulation code COðCEPT 1.0</span></a>â.
As <code class="docutils literal notranslate"><span class="pre">select_forces</span></code> is empty by default, no forces (not
even gravity) are enabled. If however a global potential
grid size is specified within the <code class="docutils literal notranslate"><span class="pre">potential_options</span></code>
<a class="reference internal" href="numerics.html#potential-options"><span class="std std-ref">parameter</span></a>, this places the
following default entries within <code class="docutils literal notranslate"><span class="pre">select_forces</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;p3m&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s1">&#39;fluid&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;pm&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>so that particle components will participate in the
gravitational interaction using PÂ³M, while fluid
components will participate in the gravitational
interaction using PM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All interactions for fluid components may only ever
use the PM method</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>With the gravitational force specified for particle
and fluid components as above, gravity will really be
applied to such components in the following manner:</p>
<ul>
<li><p>Gravity applied to particle components:</p>
<blockquote>
<div><ul>
<li><p>From particle components:</p>
<blockquote>
<div><ul class="simple">
<li><p>PÂ³M (long-range)</p></li>
<li><p>PÂ³M (short-range)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>From fluid components:</p>
<blockquote>
<div><ul class="simple">
<li><p>PM</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Gravity applied to fluid components:</p>
<blockquote>
<div><ul>
<li><p>From particle and fluid components:</p>
<blockquote>
<div><ul class="simple">
<li><p>PM</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Besides PÂ³M being split up into a long-range and a
short-range part, we see that the interactions
between particle and fluid components make use of
PM, even though PM is only selected for the fluid
components.</p>
</div>
<p>For more information on these
mesh-based methods, see the <code class="docutils literal notranslate"><span class="pre">potential_options</span></code>
<a class="reference internal" href="numerics.html#potential-options"><span class="std std-ref">parameter</span></a>. For a more casual
walk-through of how to specify forces and methods within
CO<em>N</em>CEPT, see the
<a class="reference internal" href="../tutorial/gravity.html"><span class="doc">tutorial</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Explicitly specify the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'matter</span></code> to be under the influence of gravity, using
the PÂ³M method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;p3m&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As PÂ³M is the default gravitational method, we can
shorten this to</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="s1">&#39;gravity&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As mentioned above, this can be shortened further by
simply removing any mention of <code class="docutils literal notranslate"><span class="pre">select_forces</span></code> from
the parameter file, provided that a global grid size is
set within the <code class="docutils literal notranslate"><span class="pre">potential_options</span></code>
<a class="reference internal" href="numerics.html#potential-options"><span class="std std-ref">parameter</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Explicitly specify the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'matter</span></code> to be under the influence of gravity, using
the PM method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_forces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;matter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;gravity&#39;</span><span class="p">:</span> <span class="s1">&#39;pm&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</div>
<div class="section" id="select-species">
<span id="id2"></span><h2><a class="toc-backref" href="#id7"><code class="docutils literal notranslate"><span class="pre">select_species</span></code></a><a class="headerlink" href="#select-species" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies the species of components read in from snapshots</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code> for mapping components to species. While the
<code class="docutils literal notranslate"><span class="pre">'species'</span></code> of a component is explicitly specified in
the <code class="docutils literal notranslate"><span class="pre">initial_conditions</span></code>
<a class="reference internal" href="input_output.html#initial-conditions"><span class="std std-ref">parameter</span></a>, no species are
necessarily defined for components read in from
snapshots. For components within snapshots of the
<code class="docutils literal notranslate"><span class="pre">'concept'</span></code> <a class="reference internal" href="input_output.html#snapshot-type"><span class="std std-ref">type</span></a>, their species
are explicitly included within the snapshots. For
components read from <code class="docutils literal notranslate"><span class="pre">'gadget'</span></code>
<a class="reference internal" href="input_output.html#snapshot-type"><span class="std std-ref">type</span></a> snapshots, their GADGET
particle type (see table 3 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>)
is known, but this needs to be mapped to a species in
CO<em>N</em>CEPT. This is what this parameter is for.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Though a species is explicitly defined for each
component within a <code class="docutils literal notranslate"><span class="pre">'concept'</span></code> snapshot, the species
to use within a simulation may be overruled by
setting this parameter</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Explicitly map the GADGET particle type 1 (<code class="docutils literal notranslate"><span class="pre">halo</span></code>) to
correspond to the <code class="docutils literal notranslate"><span class="pre">'matter'</span></code> species within
CO<em>N</em>CEPT:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_species</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;GADGET halo&#39;</span><span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name <code class="docutils literal notranslate"><span class="pre">'GADGET</span> <span class="pre">halo'</span></code> will automatically be
assigned to the component containing the particles of
type 1. See table 3 of the
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/users-guide.pdf">user guide for GADGET-2</a>
for other names.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Map the GADGET particle type 2 (<code class="docutils literal notranslate"><span class="pre">disk</span></code>) to the
<code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> species within CO<em>N</em>CEPT, while
mapping everything else to <code class="docutils literal notranslate"><span class="pre">'matter'</span></code>:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_species</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;GADGET disk&#39;</span><span class="p">:</span> <span class="s1">&#39;neutrino&#39;</span><span class="p">,</span>
    <span class="s1">&#39;all&#39;</span>        <span class="p">:</span> <span class="s1">&#39;matter&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<hr class="docutils" />
<div class="section" id="select-lives">
<h2><a class="toc-backref" href="#id8"><code class="docutils literal notranslate"><span class="pre">select_lives</span></code></a><a class="headerlink" href="#select-lives" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies life spans of components</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">á</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>This is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code>, specifying the <em>life span</em> of individual
components. Here, a life span is a 2-tuple in the format</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">a_activate</span><span class="p">,</span> <span class="n">a_terminate</span><span class="p">)</span>
</pre></div>
</div>
<p>specifying the values of the scale factor <span class="math notranslate nohighlight">\(a\)</span> at
which components should be <em>activated</em> and <em>terminated</em>,
respectively. Prior to its activation time, a given
component will not take part in the simulation. At the
activation time, it will then be realised and included
in the simulation. At termination time, the component
will be removed from the simulation, and it cannot be
reintroduced. The default specifications of this
parameter ensures that â by default â all components
are active from the beginning to the end of the
simulation.</p>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Let the component with the name <code class="docutils literal notranslate"><span class="pre">'linear</span> <span class="pre">neutrino'</span></code>
participate actively in the simulation until
<span class="math notranslate nohighlight">\(a = 0.1\)</span>, at which point the component with the
name <code class="docutils literal notranslate"><span class="pre">'non-linear</span> <span class="pre">neutrino'</span></code> should take its place:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_lives</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;linear neutrino&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span>   <span class="mf">0.1</span><span class="p">),</span>
    <span class="s1">&#39;non-linear neutrino&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.1</span><span class="p">,</span>   <span class="n">á</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Assuming the two components both represent the
<code class="docutils literal notranslate"><span class="pre">'neutrino'</span></code> species, but makes use of linear and
non-linear evolution, this then effectively sets
<span class="math notranslate nohighlight">\(a = 0.1\)</span> to be the time at which the neutrino
species should be treated non-linearly. This can spare
the simulation from a lot of unnecessary computation.
See the <a class="reference internal" href="../tutorial/beyond_matter_only.html#nonlinear-massive-neutrinos"><span class="std std-ref">tutorial</span></a>
for a similar example use case.</p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</div>
<div class="section" id="softening-kernel">
<span id="id4"></span><h2><a class="toc-backref" href="#id9"><code class="docutils literal notranslate"><span class="pre">softening_kernel</span></code></a><a class="headerlink" href="#softening-kernel" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>The kernel to use for particle softening</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;spline&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>For direct particle-particle forces (PP gravity,
short-range PÂ³M gravity), the force needs to be
<em>softened</em> at short distances in order to avoid
numerical problems with insufficient time resolution for
two-body encounters. See the paper on
â<a class="reference internal" href="../publications.html#the-cosmological-simulation-code-concept-10"><span class="std std-ref">The cosmological simulation code COðCEPT 1.0</span></a>â
for details. This parameter sets the type of softening
to use for all such forces and components. All softening
kernels may be described as a transformation on
<span class="math notranslate nohighlight">\(|\boldsymbol{x}|^{-3}\)</span> in the force</p>
<div class="math notranslate nohighlight">
\[\boldsymbol{f} \propto |\boldsymbol{x}|^{-3}\boldsymbol{x}\, .\]</div>
<p>The implemented softening kernels are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'none'</span></code>: Do not use any softening;</p>
<div class="math notranslate nohighlight">
\[|\boldsymbol{x}|^{-3} \rightarrow |\boldsymbol{x}|^{-3}\, .\]</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'plummer'</span></code>: Make use of the Plummer softening
kernel;</p>
<div class="math notranslate nohighlight">
\[|\boldsymbol{x}|^{-3} \rightarrow \bigl(|\boldsymbol{x}|^2 + \epsilon^2\bigr)^{-3/2}\, ,\]</div>
<p>with <span class="math notranslate nohighlight">\(\epsilon\)</span> the
<a class="reference internal" href="#select-softening-length"><span class="std std-ref">softening length</span></a>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">'spline'</span></code>: Make use of the cubic spline softening
kernel, also used by e.g. GADGET;</p>
<div class="math notranslate nohighlight">
\[\begin{split}|\boldsymbol{x}|^{-3} \rightarrow \begin{cases}
    \displaystyle \frac{32}{\epsilon_{\text{B}}^3}\biggl( x_{\text{B}}^3 - \frac{6}{5}x_{\text{B}}^2 + \frac{1}{3} \biggr) &amp; \displaystyle x_{\text{B}} &lt; \frac{1}{2} \\
    \displaystyle \frac{32}{\epsilon_{\text{B}}^3}\biggl( -\frac{1}{3}x_{\text{B}}^3 + \frac{6}{5}x_{\text{B}}^2 - \frac{3}{2}x_{\text{B}} + \frac{2}{3} - \frac{1}{480}x_{\text{B}}^{-3} \biggr) &amp; \displaystyle \frac{1}{2} \leq x_{\text{B}} &lt; 1 \\
    \displaystyle |\boldsymbol{x}|^{-3} &amp; \displaystyle 1 \leq x_{\text{B}}\, ,
\end{cases}\end{split}\]</div>
<p>with
<span class="math notranslate nohighlight">\(x_{\text{B}} \equiv |\boldsymbol{x}|/\epsilon_{\text{B}}\)</span>
and <span class="math notranslate nohighlight">\(\epsilon_{\text{B}} = 2.8\epsilon\)</span>, with
<span class="math notranslate nohighlight">\(\epsilon\)</span> being the specified
âPlummer-equivalentâ
<a class="reference internal" href="#select-softening-length"><span class="std std-ref">softening length</span></a>.</p>
</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use simple Plummer softening:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">softening_kernel</span> <span class="o">=</span> <span class="s1">&#39;plummer&#39;</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
</div>
<div class="section" id="select-softening-length">
<span id="id5"></span><h2><a class="toc-backref" href="#id10"><code class="docutils literal notranslate"><span class="pre">select_softening_length</span></code></a><a class="headerlink" href="#select-softening-length" title="Permalink to this headline">ï</a></h2>
<table>
<colgroup>
<col style="width: 4%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Description</strong></p></td>
<td><p></p></td>
<td><p>Specifies particle softening lengths</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Default</strong></p></td>
<td><p></p></td>
<td><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;particles&#39;</span><span class="p">:</span> <span class="s1">&#39;0.03*boxsize/cbrt(N)&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Elaboration</strong></p></td>
<td><p></p></td>
<td><p>Direct particle-particle forces are softened according
to the chosen
<a class="reference internal" href="#softening-kernel"><span class="std std-ref">softening kernel</span></a>. Regardless
of the chosen kernel, the associated length scale is
expressed in terms of the âPlummer-equivalentâ softening
length <span class="math notranslate nohighlight">\(\epsilon\)</span>. This parameter is a
<a class="reference internal" href="parameters.html#components-and-selections"><span class="std std-ref">component selection</span></a>
<code class="docutils literal notranslate"><span class="pre">dict</span></code> specifying this <span class="math notranslate nohighlight">\(\epsilon\)</span> for the
particle components within the simulation (fluid
components have no need for softening).</p>
<p>The default value sets <span class="math notranslate nohighlight">\(\epsilon\)</span> to be
<span class="math notranslate nohighlight">\(3\,\%\)</span> of the mean inter-particle distance,
within each particle component separately. Here <code class="docutils literal notranslate"><span class="pre">'N'</span></code>
is dynamically substituted for the number of particles
<span class="math notranslate nohighlight">\(N\)</span> within the given component.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The specified softening lengths are always comoving</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p><strong>Example 0</strong></p></td>
<td><p></p></td>
<td><p>Use a softening length of <span class="math notranslate nohighlight">\(10\,\mathrm{kpc}/h\)</span> for
all components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_softening_length</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;all&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="o">*</span><span class="n">kpc</span><span class="o">/</span><span class="n">h</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p><strong>Example 1</strong></p></td>
<td><p></p></td>
<td><p>Use a softening length of <span class="math notranslate nohighlight">\(1/10\,000\)</span> of the box
size for the component with a name/species of
<code class="docutils literal notranslate"><span class="pre">'cold</span> <span class="pre">dark</span> <span class="pre">matter'</span></code> and a softening length of
<span class="math notranslate nohighlight">\(2\,\%\)</span> of the mean inter-particle distance
(between particles of each given component) for all other
components:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_softening_length</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;cold dark matter&#39;</span><span class="p">:</span> <span class="n">boxsize</span><span class="o">/</span><span class="mi">10_000</span><span class="p">,</span>
    <span class="s1">&#39;all&#39;</span>             <span class="p">:</span> <span class="s1">&#39;0.02*boxsize/cbrt(N)&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Parameters like <code class="docutils literal notranslate"><span class="pre">boxsize</span></code> may be used either
directly or referred to inside <code class="docutils literal notranslate"><span class="pre">str</span></code>s.
Component-specific attributes like <code class="docutils literal notranslate"><span class="pre">N</span></code> must be
specified within a <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cosmology.html" class="btn btn-neutral float-left" title="Cosmology" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="simulation.html" class="btn btn-neutral float-right" title="Simulation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>