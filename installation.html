

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; CONCEPT Documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://jmd-dk.github.io/concept/installation.html"/>
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Command-line options" href="command_line_options.html" />
    <link rel="prev" title="7. Using utilities" href="tutorial/utilities.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: darkorange" >
          

          
            <a href="index.html" class="icon icon-home"> CO<em>N</em>CEPT
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial/tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/installation.html">1. Effortless installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/first_simulations.html">2. Your first simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/first_simulations.html#the-concept-script">2.1. The <code class="docutils literal notranslate"><span class="pre">concept</span></code> script</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/first_simulations.html#don-t-forget-about-gravity">2.2. Don’t forget about gravity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/parameter_files.html">3. Working with parameter files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/output_types.html">4. Other kinds of output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/output_types.html#d-renders">4.1. 3D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/output_types.html#id1">4.2. 2D renders</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/output_types.html#snapshots">4.3. Snapshots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/working_remotely.html">5. Working on remote clusters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/working_remotely.html#submitting-jobs">5.1. Submitting jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/working_remotely.html#using-pre-installed-mpi-library">5.2. Using pre-installed MPI library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/beyond_matter_only.html">6. Beyond matter-only simulations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/beyond_matter_only.html#adding-linear-speciess">6.1. Adding linear speciess</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial/beyond_matter_only.html#massive-neutrinos">6.1.1. Massive neutrinos</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial/beyond_matter_only.html#dynamical-dark-energy">6.1.2. Dynamical dark energy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/beyond_matter_only.html#decaying-cold-dark-matter">6.2. Decaying cold dark matter</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/beyond_matter_only.html#non-linear-massive-neutrinos">6.3. Non-linear massive neutrinos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/utilities.html">7. Using utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/utilities.html#the-powerspec-and-render-utilities">7.1. The powerspec and render utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/utilities.html#the-class-utility">7.2. The CLASS utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/utilities.html#the-update-utility">7.3. The update utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#standard-installation">Standard installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-installer-script-in-depth">The <code class="docutils literal notranslate"><span class="pre">installer</span></code> script in-depth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#programs-installed">Programs installed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-options">Command-line options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#influential-environment-variables">Influential environment variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-paths-and-env-files">The <code class="docutils literal notranslate"><span class="pre">.paths</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command_line_options.html">Command-line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="command_line_options.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line_options.html#remote-job-submission">Remote job submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line_options.html#other-modes-of-building-running">Other modes of building/running</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line_options.html#specials">Specials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parameters/parameters.html">Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="parameters/input_output.html">Input/output</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/numerical_parameters.html">Numerical parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/cosmology.html">Cosmology</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/physics.html">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/simulation_options.html">Simulation options</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/system_of_units.html">System of units</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters/debugging_options.html">Debugging options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities/utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utilities/class.html">The CLASS utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/convert.html">The convert utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/info.html">The info utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/play.html">The play utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/powerspec.html">The powerspec utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/render2D.html">The render2D utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/render3D.html">The render3D utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/update.html">The update utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities/watch.html">The watch utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#installation-failed">Installation failed</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#terminal-color-output-looks-weird">Terminal color output looks weird</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#crashes-or-other-bad-behavior">Crashes or other bad behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#problems-when-running-remotely">Problems when running remotely</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#problems-when-using-multiple-nodes">Problems when using multiple nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="publications.html#theses">Theses</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CO<em>N</em>CEPT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/jmd-dk/concept/" class="fa fa-github"> Code Repository</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      

      
      

      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>This page contains detailed information about how to install CO<em>N</em>CEPT
along with its many dependencies. Unless you have some special need, it is
recommended to just follow the simple,
<a class="reference internal" href="#standard-installation"><span class="std std-ref">standard installation</span></a> instructions.</p>
<p>The <a class="reference internal" href="#standard-installation"><span class="std std-ref">standard</span></a> way of installing CO<em>N</em>CEPT
utilizes the <code class="docutils literal notranslate"><span class="pre">installer</span></code> script, which installs CO<em>N</em>CEPT and all its
dependencies. Many more details about how to use this script for more
customized installation is available under the
‘<a class="reference internal" href="#the-installer-script-in-depth"><span class="std std-ref">installer script in-depth</span></a>’ entry.</p>
<p>Though not recommended, you may choose to not make use of the <code class="docutils literal notranslate"><span class="pre">installer</span></code>
script, in which case you need to install all of the
<a class="reference internal" href="#dependencies"><span class="std std-ref">dependencies</span></a> yourself. After
<a class="reference external" href="https://github.com/jmd-dk/concept">downloading</a> the CO<em>N</em>CEPT source
code, you then need to
<a class="reference internal" href="#the-paths-and-env-files"><span class="std std-ref">specify environment information</span></a> by editing
the <code class="docutils literal notranslate"><span class="pre">.paths</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files.</p>
<p>Entries on this page:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#standard-installation" id="id5">Standard installation</a></p></li>
<li><p><a class="reference internal" href="#the-installer-script-in-depth" id="id6">The <code class="docutils literal notranslate"><span class="pre">installer</span></code> script in-depth</a></p>
<ul>
<li><p><a class="reference internal" href="#programs-installed" id="id7">Programs installed</a></p></li>
<li><p><a class="reference internal" href="#command-line-options" id="id8">Command-line options</a></p></li>
<li><p><a class="reference internal" href="#influential-environment-variables" id="id9">Influential environment variables</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dependencies" id="id10">Dependencies</a></p></li>
<li><p><a class="reference internal" href="#the-paths-and-env-files" id="id11">The <code class="docutils literal notranslate"><span class="pre">.paths</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a></p></li>
</ul>
</div>
<div class="section" id="standard-installation">
<span id="id1"></span><h2><a class="toc-backref" href="#id5">Standard installation</a><a class="headerlink" href="#standard-installation" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to install CO<em>N</em>CEPT along with all of its dependencies is
to use the CO<em>N</em>CEPT <code class="docutils literal notranslate"><span class="pre">installer</span></code> script. This script is part of the
CO<em>N</em>CEPT source code, and so if you have CO<em>N</em>CEPT already downloaded,
you may find and run this script. However, the simplest way to run the script
is to just execute</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">concept_version</span><span class="o">=</span>master
bash &lt;<span class="o">(</span>wget -O- https://raw.githubusercontent.com/jmd-dk/concept/<span class="si">${</span><span class="nv">concept_version</span><span class="si">}</span>/installer<span class="o">)</span>
</pre></div>
</div>
<p>in a terminal, which will fetch and run the <code class="docutils literal notranslate"><span class="pre">installer</span></code> script directly from
the CO<em>N</em>CEPT GitHub repository, specifically the master version of the
script, which will install the corresponding master version of CO<em>N</em>CEPT.
Check out the CO<em>N</em>CEPT
<a class="reference external" href="https://github.com/jmd-dk/concept/releases">releases</a> for other available
release versions, or use <code class="docutils literal notranslate"><span class="pre">concept_version=master</span></code> for the absolute newest
(and unstable!) version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The initial <code class="docutils literal notranslate"><span class="pre">bash</span></code> in the above command is required regardless of your
shell</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">installer</span></code> will prompt you for an installation directory, as well as
for permission to install each <a class="reference internal" href="#system-dependencies"><span class="std std-ref">system dependency</span></a>,
should any be missing. At the very beginning of the installation, a table of
software to be installed will be shown.</p>
<p>CO<em>N</em>CEPT along with all of the libraries it needs will be installed into
the chosen installation directory. To completely remove the CO<em>N</em>CEPT
installation, simply remove this directory.</p>
<p>The installation will take an hour or two on modern hardware. Should the
installation process end prematurely (e.g. if you kill it yourself), simply
rerun the installation command and it will pick up from where it was.</p>
</div>
<div class="section" id="the-installer-script-in-depth">
<span id="id2"></span><h2><a class="toc-backref" href="#id6">The <code class="docutils literal notranslate"><span class="pre">installer</span></code> script in-depth</a><a class="headerlink" href="#the-installer-script-in-depth" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">installer</span></code> script may be run with additional options or influential
environment variables, which can be used to e.g. request for a specific
version of a dependency to be installed, or to skip the installation of a
particular dependency and instead make use of a preinstalled version of the
same library. Before discussing such features, it is good to know exactly
what dependencies are installed.</p>
<div class="section" id="programs-installed">
<h3><a class="toc-backref" href="#id7">Programs installed</a><a class="headerlink" href="#programs-installed" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">installer</span></code> partitions all dependencies into <em>library</em> and <em>system</em>
dependencies. Unless explicitly specified, the <code class="docutils literal notranslate"><span class="pre">installer</span></code> installs all
library dependencies regardless of whether these already exist on the system.
The system dependencies consist of standard tools commonly installed
system-wide. If the <code class="docutils literal notranslate"><span class="pre">installer</span></code> detects a missing system dependency, it will
prompt for system-wide (root) installation through the package manager on the
system.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">installer</span></code> script is able to bootstrap itself up from just bash, GNU
core utilities and a package manager (or just bash and GNU core utilities if
all system dependencies are already present). In addition, it builds all
library dependencies from source, increasing the total number of dependencies
(as many dependencies have other dependencies, and so on). For the absolute
minimum dependency requirements needed to <em>run</em> CO<em>N</em>CEPT, see the
<a class="reference internal" href="#dependencies"><span class="std std-ref">dependencies</span></a> entry.</p>
<p>The complete set of system dependencies needed/installed by the <code class="docutils literal notranslate"><span class="pre">installer</span></code>
is:</p>
<ul class="simple">
<li><p><strong>GNU tools</strong>: awk, grep, sed, gzip, tar, wget.</p></li>
<li><p><strong>Build tools</strong>: gcc, g++, gfortran, glibc, GNU make, as, ld, Linux headers.</p></li>
</ul>
<p>The complete list of all library dependencies (and their dependency relations)
installed by the <code class="docutils literal notranslate"><span class="pre">installer</span></code> is given below:</p>
<ul class="simple">
<li><p><strong>zlib</strong></p></li>
<li><p><strong>libpng</strong></p></li>
<li><p><strong>FreeType</strong></p></li>
<li><p><strong>BLAS</strong> and <strong>LAPACK</strong></p></li>
<li><p><strong>MPI</strong></p></li>
<li><p><strong>FFTW 3</strong></p></li>
<li><p><strong>FFTW 2</strong></p></li>
<li><p><strong>ncurses</strong></p></li>
<li><p><strong>libffi</strong></p></li>
<li><p><strong>Perl</strong></p></li>
<li><p><strong>OpenSSL</strong> (depends on Perl)</p></li>
<li><p><strong>GSL</strong> (depends on BLAS)</p></li>
<li><p><strong>HDF5</strong> (depends on zlib)</p></li>
<li><p><strong>GADGET</strong> (depends on MPI, GSL, FFTW 2)</p></li>
<li><p><strong>Python 3</strong> (depends on zlib)</p>
<ul>
<li><p><strong>pip</strong> (depends on OpenSSL, libffi), <strong>setuptools</strong> and <strong>wheel</strong>;
needed to install the packages below.</p>
<ul>
<li><p><strong>Blessings</strong> (depends on ncurses)</p></li>
<li><p><strong>Cython</strong></p></li>
<li><p><strong>CythonGSL</strong> (depends on Cython, GSL)</p></li>
<li><p><strong>pytest</strong></p></li>
<li><p><strong>NumPy</strong> (depends on BLAS, LAPACK, pytest)</p></li>
<li><p><strong>SciPy</strong> (depends on BLAS, LAPACK, pytest)</p></li>
<li><p><strong>matplotlib</strong> (depends on libpng, FreeType)</p></li>
<li><p><strong>MPI4Py</strong> (depends on MPI, Cython)</p></li>
<li><p><strong>H5Py</strong> (depends on HDF5 and MPI)</p></li>
<li><p><strong>Sphinx</strong></p></li>
<li><p><strong>sphinx_rtd_theme</strong></p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>CLASS</strong> + <strong>classy</strong> (depends on Cython, NumPy)</p></li>
</ul>
<p>Finally, CO<em>N</em>CEPT itself depends on MPI, FFTW, GADGET, Python, Blessings, Cython, CythonGSL, NumPy, SciPy, matplotlib, MPI4Py, H5Py, classy, Sphinx, sphinx_rtd_theme.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">installer</span></code> installs the <a class="reference external" href="https://github.com/xianyi/OpenBLAS">OpenBLAS</a>
library in order to provide both BLAS and LAPACK. For MPI, MPICH (default) or
OpenMPI is installed.</p>
</div>
<div class="section" id="command-line-options">
<h3><a class="toc-backref" href="#id8">Command-line options</a><a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h3>
<p>When invoking the <code class="docutils literal notranslate"><span class="pre">installer</span></code> — whether a local copy or directly off of
GitHub — you may supply optional command-line arguments, the most useful of
which is probably the installation path. That is,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./installer /path/to/concept
</pre></div>
</div>
<p>(when running a local copy of the <code class="docutils literal notranslate"><span class="pre">installer</span></code>) or something like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">concept_version</span><span class="o">=</span>master
bash &lt;<span class="o">(</span>wget -O- https://raw.githubusercontent.com/jmd-dk/concept/<span class="si">${</span><span class="nv">concept_version</span><span class="si">}</span>/installer<span class="o">)</span> /path/to/concept
</pre></div>
</div>
<p>(when running directly off of GitHub) will not prompt you for an installation
directory but instead use the supplied <code class="docutils literal notranslate"><span class="pre">/path/to/concept</span></code>.</p>
<p>Other command-line options to <code class="docutils literal notranslate"><span class="pre">installer</span></code> are listed below.</p>
<h6>
  Help:
  <code class="docutils literal notranslate"><span class="pre">
    -h
  </span></code>
  ,
  <code class="docutils literal notranslate"><span class="pre">
    --help
  </span></code>
</h6><p>This prints out a short description of how to use the <code class="docutils literal notranslate"><span class="pre">installer</span></code> script
and then exits. Generally though, this documentation page is much preferable.</p>
<h6>
  Test:
  <code class="docutils literal notranslate"><span class="pre">
    -t
  </span></code>
  ,
  <code class="docutils literal notranslate"><span class="pre">
    --test
  </span></code>
</h6><p>With this option, close to all dependency programs will be tested after their
individual installations. CO<em>N</em>CEPT itself will similarly be tested. On
failure (fatal or non-fatal) of any test, a log file of the test output will
be placed in the installation subdirectory of the given program. Any test
failures will be reported at the end of the entire installation process.</p>
<p>This option is helpful for debugging if it is known that the installation
results in a non-functioning CO<em>N</em>CEPT, but it is unknown which of the
many dependencies does not function correctly. Generally though, this option
is not recommended as it increases the installation time by a couple of hours.</p>
<p>The tests performed on the CO<em>N</em>CEPT code itself are those of</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">concept</span> <span class="o">-</span><span class="n">t</span> <span class="nb">all</span>
</pre></div>
</div>
<p>and so may also be run at any time after the installation, whether or not the
<code class="docutils literal notranslate"><span class="pre">-t</span></code> option was used for th installation. See the <code class="docutils literal notranslate"><span class="pre">concept</span></code>
<a class="reference internal" href="command_line_options.html#specials"><span class="std std-ref">test</span></a> option for further details.</p>
<h6>
  Yes:
  <code class="docutils literal notranslate"><span class="pre">
    -y
  </span></code>
  ,
  <code class="docutils literal notranslate"><span class="pre">
    --yes
  </span></code>
</h6><p>Assume “yes” as answer to all prompts and run non-interactively. Currently
these include only the system-wide installations of system dependencies,
should any be missing. Note that this require root access.</p>
<h6>
  Fix ssh:
  <code class="docutils literal notranslate"><span class="pre">
    --fix-ssh
  </span></code>
</h6><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do <em>not</em> use this option if you seek to install CO<em>N</em>CEPT</p>
</div>
<p>Invoking the installer with this option will not install CO<em>N</em>CEPT, but
instead attempt to configure the users <code class="docutils literal notranslate"><span class="pre">~/.ssh</span></code> directory for use with
remote jobs running on multiple nodes, as described
<a class="reference internal" href="troubleshooting.html#problems-when-using-multiple-nodes"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="influential-environment-variables">
<h3><a class="toc-backref" href="#id9">Influential environment variables</a><a class="headerlink" href="#influential-environment-variables" title="Permalink to this headline">¶</a></h3>
<p><em>Under construction!</em></p>
</div>
</div>
<div class="section" id="dependencies">
<span id="id3"></span><h2><a class="toc-backref" href="#id10">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>This entry lists the dependency stack of CO<em>N</em>CEPT. Knowledge about this
stack is not needed if using the installation script (<em>highly</em> recommended!),
but it is important if for some reason you want to build (parts of) this stack
yourself.</p>
<p>Typically the exact version of any given dependency is not crucial. An effort
is made to ensure that CO<em>N</em>CEPT functions with the newest stable versions
of each dependency. As many of the CO<em>N</em>CEPT dependencies also depend on
each other, finding a working set of dependency versions may be non-trivial.
You may draw inspiration from the current or older versions of the
<a class="reference external" href="https://github.com/jmd-dk/concept/blob/master/installer">installation script</a>
(look for ‘Specification of software versions’).</p>
<div class="topic">
<p class="topic-title first">Python dependencies</p>
<p>The CO<em>N</em>CEPT source depends explicitly on
<a class="reference external" href="https://www.python.org/">Python</a> version 3.6 or newer, together with the
following Python packages (many of which have heavy dependencies of their
own):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cython.org/">Cython</a>: Needed for transpilation
(<em>cythonization</em>) of the pure Python source code of CO<em>N</em>CEPT into
equivalent C code.</p></li>
<li><p><a class="reference external" href="https://www.numpy.org/">NumPy</a>: Provides the basic array types used
for representing all primary data, together with various array/math
functions.</p></li>
<li><p><a class="reference external" href="https://www.scipy.org/">SciPy</a>: Provides various numerical methods and
additional math functions.</p></li>
<li><p><a class="reference external" href="https://matplotlib.org/">Matplotlib</a>: Provides plotting functionality
for 2D and 3D figures, as well as color transformations used for colored
terminal output.</p></li>
<li><p><a class="reference external" href="https://mpi4py.readthedocs.io/">MPI4Py</a>: Provides Python bindings for
MPI, used for all inter-process communication.</p></li>
<li><p><a class="reference external" href="https://www.h5py.org/">H5Py</a>: Provides Python bindings for HDF5, used
for various binary input/output.</p></li>
<li><p><a class="reference external" href="https://github.com/twiecki/CythonGSL">CythonGSL</a>: Provides Cython
bindings for GSL, used for more performant replacements of some
NumPy/SciPy functionalities when running CO<em>N</em>CEPT in compiled mode.</p></li>
<li><p><a class="reference external" href="https://github.com/erikrose/blessings">Blessings</a>: Provides terminal
formatting.</p></li>
</ul>
<p>In addition, the <a class="reference external" href="http://www.sphinx-doc.org/">Sphinx</a> and
<a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/">sphinx_rtd_theme</a> Python
packages are needed to build the documentation, but may otherwise be left
out.</p>
</div>
<div class="topic">
<p class="topic-title first">Other primary dependencies</p>
<p>In addition to Python, the Python packages listed above and their
respective dependencies, CO<em>N</em>CEPT further depends explicitly on
<a class="reference external" href="http://www.fftw.org/">FFTW</a> 3 for its distributed FFT capabilities.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CO<em>N</em>CEPT does not make use of the Python bindings
<a class="reference external" href="https://github.com/pyFFTW/pyFFTW">pyFFTW</a> for FFTW, as these do not
include the distributed (MPI) FFT’s needed. Instead, CO<em>N</em>CEPT
provides its own minimal wrapper, <code class="docutils literal notranslate"><span class="pre">fft.c</span></code>. This is the only C file in
the primary CO<em>N</em>CEPT source code.</p>
</div>
<p>If building FFTW yourself, remember to link against an MPI library.
The same goes for building HDF5 and installing MPI4Py and H5Py. Also, the
MPI library has to conform to the MPI-3 standard.</p>
<p>For testing, CO<em>N</em>CEPT compares itself against
<a class="reference external" href="https://wwwmpa.mpa-garching.mpg.de/gadget/">GADGET</a>, specifically
version 2.0.7. If you do not care about running the CO<em>N</em>CEPT test
suite, you do not have to install GADGET.</p>
<p>The last non-standard depenency of CO<em>N</em>CEPT is the
<a class="reference external" href="http://class-code.net/">CLASS</a> code, along with its Python wrapper
‘classy’. When installing using the installation script, CLASS and classy
are patched in order to enable larger and new kinds of output, fix bugs and
improve interoperability with CO<em>N</em>CEPT. If installing without the use
of the installation script, you will have to obtain the patched
CLASS + classy by some other means. A good solution is to install
everything else first, including CO<em>N</em>CEPT itself, and then make use of
the CO<em>N</em>CEPT <code class="docutils literal notranslate"><span class="pre">update</span></code> utility to install and patch CLASS + classy:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./concept -u update --class &lt;version&gt;
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> should be replaced with the CO<em>N</em>CEPT version whose
<code class="docutils literal notranslate"><span class="pre">installer</span></code> script should be used to install and patch CLASS + classy.</p>
</div>
<div class="topic" id="system-dependencies">
<p class="topic-title first">System dependencies</p>
<p>In addition to the many dependencies above, CO<em>N</em>CEPT further uses
a lot of <em>system dependencies</em>, by which is meant programs that usually is
installed system-wide. These include
<a class="reference external" href="https://www.gnu.org/software/bash/">bash</a> 3.0 or newer and the
<a class="reference external" href="https://www.gnu.org/software/coreutils/">GNU core utilities</a>, which are
the only two dependencies not installed by the <code class="docutils literal notranslate"><span class="pre">installer</span></code> script.</p>
<p>Other system dependencies needed for the core CO<em>N</em>CEPT functionality
are awk, grep and sed. Also, the <code class="docutils literal notranslate"><span class="pre">installer</span></code> script and <code class="docutils literal notranslate"><span class="pre">update</span></code>
utility further makes use of gzip, tar and wget. That is, you may run
simulations without these last three components installed. If running the
<code class="docutils literal notranslate"><span class="pre">installer</span></code> script or <code class="docutils literal notranslate"><span class="pre">update</span></code> utility without these, you will be
prompted for system-wide (root) installation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Several implementations exist for the above system dependencies.
CO<em>N</em>CEPT specifically needs the GNU implementations, i.e. what
is commonly found on Linux systems. The fact that macOS uses the BSD
implementations of these programs is the primary reason for
CO<em>N</em>CEPT not yet being ported to this platform.</p>
</div>
<p>Lastly, CO<em>N</em>CEPT needs standard tools for compiling and linking C
(C99) code. An <code class="docutils literal notranslate"><span class="pre">mpicc</span></code> C compiler/linker should be bundled with the MPI
library used. The GNU make utility is also needed.</p>
</div>
</div>
<div class="section" id="the-paths-and-env-files">
<span id="id4"></span><h2><a class="toc-backref" href="#id11">The <code class="docutils literal notranslate"><span class="pre">.paths</span></code> and <code class="docutils literal notranslate"><span class="pre">.env</span></code> files</a><a class="headerlink" href="#the-paths-and-env-files" title="Permalink to this headline">¶</a></h2>
<p><em>Under construction!</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      

      
      

      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>