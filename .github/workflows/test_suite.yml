name: test suite

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  test:

    runs-on: ubuntu-18.04

    steps:
    - uses: actions/checkout@v2
    - name: test suite
      run: |
        docker run \
        -v ${{github.workspace}}:/github \
        jmddk/concept:master /usr/bin/env bash -c ': \
            && source ~/.bashrc \
            && rm -rf "${concept_dir}" \
            && cp -r /github/concept "${concept_dir}" \
            && echo concept_dir="${concept_dir}" \
            && ls ${concept_dir} \
            && concept -t concept_vs_gadget_p3m \
        '

